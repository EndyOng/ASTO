try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4e746247-ee5f-4dc4-89f6-bdbb06a6b360",e._sentryDebugIdIdentifier="sentry-dbid-4e746247-ee5f-4dc4-89f6-bdbb06a6b360")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9331],{2697:(e,t,r)=>{r.d(t,{c:()=>a});var n=r(12115),l=r(39602),i=r(41259);let o=async e=>{let{scheduleId:t,teamUUID:r}=e;try{let e=await fetch(i.LJ,{cache:"no-store",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({scheduleId:t,teamUUID:r})}),n=await e.json();if([400,403,500].includes(e.status))return{errorMessage:n.message,data:null};return{data:n,errorMessage:null}}catch(e){return{errorMessage:"check team schedule error: ".concat(e.message),data:null}}};function a(e){let{scheduleId:t,teamUUID:r,currentSubscriptionPriceId:i,currentSeatQuantity:a}=e,[s,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(!1),[h,x]=(0,n.useState)(null),g=(null==s?void 0:s.scheduledSub)&&(null==s?void 0:s.currentSub)&&i&&a?(0,l.M)(s,i,a):void 0;return(0,n.useEffect)(()=>{(async function(){if(!t||!r||!i||!a){d(null);return}u(!0),x(null);try{let e=await o({scheduleId:t,teamUUID:r});if(null!==e.errorMessage){x(Error(e.errorMessage));return}d(e.data.teamSchedule)}catch(e){x(e instanceof Error?e:Error("Error checking team schedule"))}finally{u(!1)}})()},[t,r,i,a]),{teamSchedule:s,downgradeType:g,isLoading:c,error:h}}},9331:(e,t,r)=>{r.d(t,{Z:()=>eW,A:()=>ez});var n=r(95155),l=r(59108),i=r(5520),o=r(23375),a=r(16299),s=r(77700),d=r(58670),c=r(5643),u=r(75569),h=r(49174),x=r(85821),g=r(46752),b=r(27104),m=r(42066),p=r(33636),v=r(57599),C=r(12115),f=r(19782),j=r(64430),y=r(6874),F=r.n(y),k=r(17973);let w=e=>{let{seatsToAdd:t,onClose:r,isOpen:s}=e;return(0,n.jsxs)(i.Modal,{variant:"gradientDialogStyle",onClose:r,isOpen:s,isCentered:!0,size:"sm",children:[(0,n.jsx)(o.ModalOverlay,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,n.jsxs)(a.ModalContent,{children:[(0,n.jsx)(f.ModalCloseButton,{onClick:r}),(0,n.jsx)(c.ModalBody,{pt:11,px:11,paddingBottom:0,children:(0,n.jsxs)(l.Flex,{flexDir:"column",justifyContent:"center",alignItems:"center",children:[(0,n.jsxs)(l.Flex,{flexDir:"column",justifyContent:"center",alignItems:"center",children:[(0,n.jsx)(k.A,{w:"3.359rem",h:"3.359rem"}),(0,n.jsx)(l.Flex,{flexDir:"column",pt:2,pb:3,children:(0,n.jsxs)(d.Text,{fontSize:"2xl",color:"white",fontWeight:500,textAlign:"center",children:[t," more seat",1===t?" is":"s are"," required"]})})]}),(0,n.jsx)(l.Flex,{flexDir:"column",justifyContent:"center",alignItems:"center",color:"loud",textAlign:"center",children:(0,n.jsxs)(d.Text,{fontWeight:400,fontSize:"lg",whiteSpace:"pre-line",children:["Looks like all your seats are allocated! Please"," ",(0,n.jsx)(j.Link,{target:"_blank",as:F(),href:"//leonardo.ai/contact-us/",textDecoration:"underline",children:"contact"})," ","the sales team to get more seats added."]})})]})}),(0,n.jsx)(h.ModalFooter,{px:11,pb:11,pt:7,children:(0,n.jsx)(l.Flex,{gap:9,justifyContent:"space-between",flex:1,children:(0,n.jsx)(x.Button,{h:12,flex:1,variant:"outline",fontWeight:500,fontSize:"xl",py:"0.8125rem",px:6,onClick:r,background:"transparent",borderWidth:"px",borderColor:"background.darkblue",_hover:{borderWidth:"px",borderColor:"button.hover",background:"button.hover",backgroundClip:"padding-box"},children:"Close"})})})]})]})};var B=r(2044);let S=(0,C.createContext)({onStartPolling:()=>{},isPolling:!1}),A=()=>(0,C.useContext)(S),E=e=>{let{children:t,onStartPolling:r,isPolling:l}=e,i=(0,C.useMemo)(()=>({onStartPolling:r,isPolling:l}),[r]);return(0,n.jsx)(S.Provider,{value:i,children:t})};var T=r(51142);let D=e=>{let{teamId:t,numberOfSeatsToRestore:r,numberOfSeatsToBuy:u,onClose:g,isOpen:b,emailList:m,setIsSeatUpdateLoading:p}=e,[v,j]=(0,C.useState)(!0),{onStartPolling:y,isPolling:F}=A(),{onBuySeatForTeamHandler:w,isSeatUpdateLoading:S}=(0,T.Ay)(null!=t?t:""),E=()=>{p(!1),g()},D=async()=>{await w(m,v)?y():E()},I={main:"".concat(u," more seat").concat(1===u?" is":"s are"," required"),extra:r>0?"".concat(r," seat").concat(1===r?"":"s"," scheduled for cancellation will be restored"):"",explanation:"Inviting new members above the current team capacity adds seats for them in your team subscription.",notice:"Your nominated account will be charged immediately"},L={main:"".concat(r," seat").concat(1===r?"":"s"," will be restored"),extra:"",explanation:"You have seats scheduled for cancellation. Inviting new members will reverse this and allocate users to those seats.",notice:"The restored team seats will be renewed in next billing cycle"},M=u>0?I:L;return(0,n.jsxs)(i.Modal,{variant:"gradientDialogStyle",onClose:g,isOpen:b,isCentered:!0,size:"md",children:[(0,n.jsx)(o.ModalOverlay,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,n.jsxs)(a.ModalContent,{maxWidth:"45rem",children:[(0,n.jsx)(f.ModalCloseButton,{onClick:E}),(0,n.jsx)(c.ModalBody,{padding:{base:6,sm:11},paddingBottom:2,children:(0,n.jsxs)(l.Flex,{flexDir:"column",justifyContent:"center",alignItems:"center",gap:7,children:[(0,n.jsxs)(l.Flex,{flexDir:"column",justifyContent:"center",alignItems:"center",textAlign:"center",gap:2,children:[(0,n.jsx)(k.A,{w:"3.359rem",h:"3.359rem"}),(0,n.jsx)(d.Text,{fontSize:"2xl",color:"white",fontWeight:500,"line-height":"8.5",textAlign:"center",children:M.main}),(0,n.jsx)(d.Text,{fontWeight:400,fontSize:"lg",color:"loud",whiteSpace:"pre-line",children:M.explanation})]}),(0,n.jsxs)(s.Box,{textAlign:"center",children:[(0,n.jsx)(d.Text,{fontWeight:"bold",fontSize:"lg",color:"content.primary",textAlign:"center",children:M.notice}),M.extra&&(0,n.jsx)(d.Text,{fontWeight:400,fontSize:"md",color:"loud",whiteSpace:"pre-line",children:M.extra})]}),(0,n.jsx)(B.Checkbox,{size:"md",display:"flex",styleConfig:{baseStyle:{control:{borderRadius:"0.1875rem",border:"0.0625rem solid white",width:5,height:5,_checked:{border:"0.0625rem solid white",background:"background.grey",_hover:{borderColor:"white",background:"background.grey"},color:"white"},_hover:{background:"background.grey"}},icon:{p:1},label:{color:"loud",marginInline:"unset",marginLeft:"0.7rem",_checked:{color:"loud"}}}},"aria-label":"Don't show this modal again",checked:v,onChange:()=>j(e=>!e),children:(0,n.jsx)(d.Text,{fontSize:"sm",color:"#E6E8EF",fontWeight:500,display:"flex",alignItems:"center",children:"Don't show this again"})})]})}),(0,n.jsx)(h.ModalFooter,{px:{base:4,sm:11},pb:11,pt:0,children:(0,n.jsxs)(l.Flex,{gap:"9",justifyContent:"space-between",flex:"1",children:[(0,n.jsx)(x.Button,{h:12,flex:"1",variant:"outline",fontWeight:500,fontSize:"xl",py:"0.8125rem",px:"6",onClick:E,background:"transparent",borderWidth:"px",borderColor:"border.greyBlue",_hover:{borderWidth:"px",borderColor:"button.hover",background:"button.hover",backgroundClip:"padding-box"},children:"Cancel"}),(0,n.jsx)(x.Button,{h:12,flex:"1",variant:"primary",fontWeight:500,fontSize:"xl",py:"0.8125rem",px:6,isLoading:S||F,onClick:D,children:"Confirm"})]})})]})]})};var I=r(91528);let L=(e,t)=>t.filter(t=>t!==e),M=e=>{let{email:t,onRemoveEmail:r}=e;return(0,n.jsxs)(I.Tag,{variant:"outline",borderColor:"red",size:"lg",m:1,minHeight:6,color:"white",fontSize:"sm",sx:{"--badge-shadow":"inset 0 0 0px 1px #C66BD5"},children:[(0,n.jsx)(I.TagLabel,{children:t}),(0,n.jsx)(I.TagCloseButton,{color:"accent.2",onClick:()=>{r()}})]},t)},R=e=>{let{emails:t=[],setEmailList:r}=e,l=e=>{r(L(e,t))};return t.map(e=>(0,n.jsx)(M,{email:e,onRemoveEmail:()=>l(e)},e))};var _=r(91133),O=r(49993);let W="linear-gradient(to bottom, #101721 67.99%, #2F233C 112.93%) padding-box, ".concat(O.C3.PURPLE_ONE," border-box"),P=e=>{let{unusedSeats:t,...r}=e;return(0,n.jsxs)(l.Flex,{alignItems:"center",background:W,rounded:"lg",borderWidth:"px",borderStyle:"solid",p:2,gap:4.5,...r,children:[(0,n.jsx)(l.Flex,{px:1.5,py:1,children:(0,n.jsx)(_.A,{width:9,height:9})}),(0,n.jsxs)(l.Flex,{flexDir:"column",children:[(0,n.jsxs)(d.Text,{fontWeight:"bold",children:["You have\xa0",(0,n.jsxs)(d.Text,{fontWeight:"bold",as:"span",variant:"gradient",children:[t," unused seat",1!==t?"s":"","!"]})]}),(0,n.jsx)(d.Text,{color:"lightbluegrey",children:"Invite your team members to keep collaborating!"})]})]})};var z=r(71677),U=r(76765);let H=e=>{let{isOpen:t,onClose:r}=e;return(0,n.jsxs)(i.Modal,{isOpen:t,onClose:r,children:[(0,n.jsx)(o.ModalOverlay,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,n.jsxs)(a.ModalContent,{width:"90%",maxW:"700",borderColor:"transparent",bg:eW,maxH:"90vh",children:[(0,n.jsx)(s.Box,{px:5,pt:6,pb:2,bg:eW,borderBottomWidth:"sm",borderBottomColor:"border.darkBlue",borderTopRadius:"lg",children:(0,n.jsx)(l.Flex,{alignItems:"center",justifyContent:"space-between",mb:2})}),(0,n.jsx)(c.ModalBody,{p:0,children:(0,n.jsx)(l.Flex,{background:' url("/img/teams/teams-background.png"), linear-gradient(110.8deg, #020305 0%, #070A0F 100%)',height:"620px",flex:1,justifyContent:"center",alignItems:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"top left",children:(0,n.jsxs)(u.VStack,{children:[(0,n.jsx)(U.a,{}),(0,n.jsx)(d.Text,{py:4,gap:2,children:"Loading..."})]})})}),(0,n.jsx)(h.ModalFooter,{bg:eW,borderTopWidth:"sm",borderColor:"border.darkBlue ",borderBottomRadius:"lg"})]})]})};var N=r(88095),G=r(42043),Z=r(52017),V=r(20690),Y=r(958),q=r(68691),K=r(91073),J=r(34853),Q=r(20876);let X=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9-]*\.)+[A-Z]{2,}$/i,$=(e,t)=>t.includes(e),ee=e=>X.test(e),et=(e,t)=>{var r;let n=(0,K.A)(),l=(0,q.j)(),{onBuySeatForTeamHandler:i,isSeatUpdateLoading:o,setIsSeatUpdateLoading:a}=(0,T.Ay)(null!==(r=e.id)&&void 0!==r?r:""),[s,d]=(0,C.useState)([]),[c,u]=(0,C.useState)(!1),[h,x]=(0,C.useState)(""),{isOpen:g,onOpen:b,onClose:m}=(0,Z.useDisclosure)(),{isOpen:p,onOpen:v,onClose:f}=(0,Z.useDisclosure)(),j=(0,q.G)(e=>e.teamsMembers.teamsInvites),y=(0,q.G)(e=>e.teamsMembers.teamsMembers),F=(0,q.G)(e=>e.onboarding.shouldHideTeamInviteConfirmation),[k,{loading:w}]=(0,N.n)(Y.ZmQ),B=j.filter(e=>!e.dateAccepted&&!e.dateDeclined),{handleGenError:S}=(0,V.B)(),A=[...y.map(e=>e.userEmail),...B.map(e=>e.inviteEmail)].filter(e=>null!=e&&""!==e),E=(null==e?void 0:e.userRole)===Y.RUS.Owner,D=(null==e?void 0:e.planSeats)||0,[I,L]=(0,C.useState)(0),[M,R]=(0,C.useState)(0),_=j.filter(e=>null===e.dateAccepted&&null===e.dateDeclined).length,O=D-(y.length+_+t),W=O+t,P=(e,t)=>($(e,t)&&n({description:"".concat(e," already exists in list"),type:K.k.info,position:"bottom-right"}),t.includes(e)),z=(e,t)=>(t.includes(e)&&n({description:"".concat(e," already exists in team"),type:K.k.info,position:"bottom-right"}),t.includes(e)),U=e=>{let t=ee(e);return t||n({description:"".concat(e," is not a valid email address"),type:K.k.error,position:"bottom-right"}),t},H=e=>e.map(e=>({email:e,role:Y.RUS.Editor})),X=(e,t)=>{let r=e.toLowerCase();return U(r)&&!P(r,t)&&!z(r,A)},et=(e,t)=>{let r=[...t,...e.map(e=>e.trim()).filter(e=>X(e,s))].filter((e,t,r)=>r.indexOf(e)===t);return r.length>500&&(r=r.slice(0,500),n({description:"Team invitations are currently limited to sending ".concat(500," at a time"),type:K.k.info,position:"bottom-right"})),d(r),x(""),r},er=async t=>{if(!e.id)return;let r=H(t);if(0!==r.length)try{await k({variables:{teamId:parseInt(e.id),members:r}}).then(()=>{n({description:"".concat(r.length," user").concat(1!==r.length?"s have":" has"," been invited to your team"),position:"bottom-right"}),m(),a(!1),d([]),x("")})}catch(e){if((0,J.V)(e)&&(0,J.o)({error:e,onError:S}))return;if((0,G.Mn)(e)){let t=e.message;if(t.includes("Team has reached maximum limit")){u(!0);return}n({description:t,type:K.k.error,position:"bottom-right"})}else n({title:"An Error Occurred",description:"Transaction Unsuccessful. Please try again",type:K.k.error,position:"bottom-right"})}finally{e.id&&l((0,Q.E)(e.id))}},en=async e=>{await er(e),a(!1)},el=async(e,r)=>{F?await i(e,!0)&&r():(e.length>W?(L(t),R(e.length-W)):(R(0),L(e.length-O)),b(),v(),u(!0))},ei=async(e,t)=>{let r=e.length>0?e:et([h],e);if(0!==r.length){if(r.length<=O){await en(r);return}el(r,t)}},eo=async(e,t)=>{e.length>0&&!h.length?await ei(e,t):await ei(s,t)};return{emailList:s,setEmailList:d,addEmails:et,handleInvite:ei,input:h,setInput:x,processEmailInvites:eo,isAddingTeamMembers:w,addTeamMembersOnInvite:er,userIsTeamOwner:E,isSeatUpdateLoading:o,onCloseSeatConfirmationModal:m,isOpenSeatConfirmationModal:g,isBuySeatRequested:c,isOpenLoadingModal:p,onCloseLoadingModal:f,setIsSeatUpdateLoading:a,shouldHideTeamInviteConfirmation:F,numberOfSeatsToRestore:I,numberOfSeatsToBuy:M}};var er=r(63256),en=r(2697),el=r(69507);let ei=(e,t)=>{var r,n;let l=null==e?void 0:null===(r=e.users[0])||void 0===r?void 0:r.team_memberships,i=null==l?void 0:l.map(e=>({...e.team,userRole:e.role})),o=null==i?void 0:null===(n=i.find(e=>e.id===t))||void 0===n?void 0:n.planSeats;return null!=o?o:0},eo=e=>{let{sub:t,teamId:r,planSeatsCount:n,onAddTeamMembersOnInvite:l}=e,[i,o]=(0,C.useState)(!1),{stopPolling:a,startPolling:s}=(0,el.I)(Y.RdS,{variables:{userSub:t},fetchPolicy:"network-only",onCompleted:async e=>{let t=ei(e,r);null!==t&&null!==n&&t>n&&(void 0!==l&&l(),a(),o(!1))},pollInterval:3e3,notifyOnNetworkStatusChange:!0,skip:!i});return{startPolling:e=>{o(!0),s(e)},isPolling:i}};var ea=r(62618),es=r(62617);let ed=["Enter","Tab",","," "],ec=e=>{var t,r,i,o,a,c,u,h,f,j,y,F;let{team:k,teamsMembers:B,teamsInvites:S,planSeats:A,isManagedTeam:T}=e,I=(0,q.j)(),{data:L,loading:M}=(0,z.M)(k.id,k.plan),_=null==L?void 0:null===(t=L.matchingPlanHistory)||void 0===t?void 0:t.paymentPlatformSubscriptionDetails,{teamSchedule:W,isLoading:U}=(0,en.c)({scheduleId:(null==_?void 0:_.schedule)||void 0,teamUUID:null!==(c=k.akUUID)&&void 0!==c?c:"",currentSubscriptionPriceId:null!==(u=null==_?void 0:null===(i=_.items.data[0])||void 0===i?void 0:null===(r=i.price)||void 0===r?void 0:r.id)&&void 0!==u?u:"",currentSeatQuantity:null!==(h=k.planSeats)&&void 0!==h?h:0}),N=U||M,G=Math.max(0,(null!==(f=null==W?void 0:null===(o=W.currentSub)||void 0===o?void 0:o.quantity)&&void 0!==f?f:0)-(null!==(j=null==W?void 0:null===(a=W.scheduledSub)||void 0===a?void 0:a.quantity)&&void 0!==j?j:0)),{input:Z,emailList:V,processEmailInvites:Y,setEmailList:K,isAddingTeamMembers:J,isBuySeatRequested:Q,isOpenSeatConfirmationModal:X,onCloseSeatConfirmationModal:$,addTeamMembersOnInvite:ee,isOpenLoadingModal:el,onCloseLoadingModal:ei,shouldHideTeamInviteConfirmation:ec,setIsSeatUpdateLoading:eu,isSeatUpdateLoading:eh,numberOfSeatsToRestore:ex,addEmails:eg,setInput:eb,numberOfSeatsToBuy:em}=et(k,G),ep=(0,q.G)(e=>e.user.sub),ev=(0,C.useCallback)(async()=>{await ee(V),I((0,ea.LZ)())},[ee,I,V]),{startPolling:eC,isPolling:ef}=eo({sub:ep,teamId:null!==(y=k.id)&&void 0!==y?y:"",planSeatsCount:A-G,onAddTeamMembersOnInvite:ev}),ej=(0,C.useCallback)(()=>{eC(3e3)},[eC]),ey=(null==S?void 0:S.length)>0?S.filter(e=>null===e.dateAccepted&&null===e.dateDeclined).length:0,eF=V.length+B.length+ey-(null!=A?A:0),ek=Math.max(0,A-(B.length+ey+G)),ew=B.length>0&&ek>0&&!eh,eB=e=>K(e),eS=0===V.length?"Type email here...":"",eA=(e,t)=>{ed.includes(e.key)&&(e.preventDefault(),Z&&eg([Z],t))},eE=(e,t)=>{var r;e.preventDefault();let n=null===(r=e.clipboardData)||void 0===r?void 0:r.getData("text");n&&eg(n.split(/[\s,;]+/).filter(Boolean),t)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(b.ModalHeader,{fontSize:"sm",bg:O.C3.GRAY_BLUE_ONE,px:0,pt:0,children:[(0,n.jsx)(d.Text,{fontSize:"sm",fontWeight:"400",color:"secondary.inactive",mb:4,children:"Invite members to add seats anytime."}),(0,n.jsx)(d.Text,{fontSize:"sm",fontWeight:"400",mb:3,children:"Invite members:"}),(0,n.jsx)(s.Box,{children:(0,n.jsxs)(l.Flex,{justifyContent:"space-between",alignItems:"flex-start",width:"100%",gap:1.5,flexWrap:{base:"wrap",md:"nowrap"},pb:1,children:[(0,n.jsx)(s.Box,{width:"100%",children:(0,n.jsxs)(l.Flex,{borderRadius:"lg",borderWidth:1,borderColor:"border.greyBlue",alignItems:"center",maxHeight:32,overflowX:"auto",bg:"background.darkblue",layerStyle:"scrollbarSlim",children:[eh&&0===eF||J&&(0,n.jsx)(H,{isOpen:el,onClose:ei}),(0,n.jsxs)(l.Flex,{wrap:"wrap",flexGrow:2,flexDirection:"row",children:[(0,n.jsx)(R,{emails:V,setEmailList:eB}),(0,n.jsx)(s.Box,{as:"span",minWidth:"10%",flex:"1",children:(0,n.jsx)(m.InputGroup,{children:(0,n.jsx)(p.Input,{height:8,bg:"transparent",type:"email",_placeholder:{color:es.T.subdued},_focusVisible:{boxShadow:"none"},placeholder:eS,value:Z,onChange:e=>eb(e.target.value),onPaste:e=>eE(e,V),onKeyDown:e=>eA(e,V),size:"lg",width:"100%",borderWidth:0,focusBorderColor:"border.greyBlue",borderRadius:"lg"})})})]}),V.length>0&&(0,n.jsx)(x.Button,{variant:"unstyled",mt:1,alignSelf:"flex-start",flexGrow:0,onClick:()=>K([]),_hover:{cursor:"pointer"},h:5,w:5,background:"transparent",children:(0,n.jsx)(g.U,{h:"0.703rem",w:"0.703rem",color:"#8B8E99"})})]})}),(0,n.jsx)(v.Tooltip,{label:"Checking seat availability...",shouldWrapChildren:!0,placement:"top",hasArrow:!0,isDisabled:!N,children:(0,n.jsxs)(x.Button,{onClick:()=>Y(V,ej),isDisabled:!Z&&0===V.length||N,width:{base:"100%",md:"1.688rem"},variant:"primary",isLoading:J||eh||ef||N,height:8,px:10,children:[(0,n.jsx)(er.A,{pr:1}),"Invite"]})})]})}),ew&&!ef&&!N&&(0,n.jsx)(P,{mt:2,unusedSeats:ek})]}),(0,n.jsxs)(E,{onStartPolling:ej,isPolling:ef,children:[T&&(0,n.jsx)(D,{teamId:null!==(F=k.id)&&void 0!==F?F:"",isOpen:X,setEmailList:eB,onClose:$,setIsSeatUpdateLoading:eu,isSeatUpdateLoading:eh,numberOfSeatsToRestore:ex,numberOfSeatsToBuy:em,emailList:V}),Q&&!ec&&eF>0&&!T&&(0,n.jsx)(w,{isOpen:X,onClose:()=>{eu(!1),$()},seatsToAdd:eF})]})]})};var eu=r(42618),eh=r(37824),ex=r(83382),eg=r(47272),eb=r(76122),em=r(66080),ep=r(24710),ev=r(1996),eC=r(49004),ef=r(831),ej=r(58727),ey=r(59771),eF=r(59118),ek=r(71290),ew=r(60078),eB=r(92998),eS=r(37492),eA=r(84916);let eE=e=>{let{declinedInvitesEmails:t,numberOfDeclinedInvites:r,setCloseDeclinedUserInfo:i,...o}=e;return(0,n.jsx)(l.Flex,{bg:"surface.info",px:5,py:1,height:"auto",...o,children:(0,n.jsxs)(l.Flex,{display:"flex",alignItems:"center",gap:2,flex:1,children:[1===r?(0,n.jsxs)(ej.HStack,{fontSize:"xs",fontFamily:"Inter",fontStyle:"normal",lineHeight:"normal",justifyContent:"space-between",color:"white",children:[(0,n.jsx)(s.Box,{children:(0,n.jsx)(ek.Y,{})}),(0,n.jsxs)(d.Text,{fontSize:"xs",children:[(0,n.jsx)(d.Text,{as:"span",fontWeight:"bold",children:t[0]})," ","has declined your invitation"]})]}):(0,n.jsx)(v.Tooltip,{hasArrow:!0,label:(0,n.jsx)(ew.Stack,{children:t.map(e=>(0,n.jsxs)(d.Text,{children:[e," "]},e))}),"aria-label":"List of declined invites",placement:"top-start",children:(0,n.jsxs)(ej.HStack,{fontSize:"xs",fontFamily:"Inter",fontStyle:"normal",lineHeight:"normal",justifyContent:"space-between",color:"white",children:[(0,n.jsx)(s.Box,{children:(0,n.jsx)(ek.Y,{})}),(0,n.jsxs)(d.Text,{fontSize:"xs",children:[(0,n.jsxs)(d.Text,{as:"span",fontWeight:"bold",cursor:"pointer",textDecoration:"underline",children:[r," Users"]})," ","have declined your invitation"]})]})}),(0,n.jsx)(eB.Spacer,{}),(0,n.jsx)(eS.ButtonGroup,{gap:2,children:(0,n.jsx)(eA.CloseButton,{size:"sm",padding:2,onClick:()=>i(!1)})})]})})};var eT=r(59133),eD=r(3740);let eI=e=>(0,n.jsx)(eD.Icon,{width:4,height:4,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{d:"M17.7359 8.51414C18.0044 8.78272 18.0044 9.21817 17.7359 9.48676C17.602 9.62059 17.426 9.6884 17.25 9.6884C17.074 9.6884 16.898 9.62151 16.7641 9.48676L15.4167 8.13928L14.0692 9.48676C13.9354 9.62059 13.7593 9.6884 13.5833 9.6884C13.4073 9.6884 13.2313 9.62151 13.0975 9.48676C12.8289 9.21817 12.8289 8.78272 13.0975 8.51414L14.4449 7.16667L13.0975 5.81919C12.8289 5.55061 12.8289 5.11516 13.0975 4.84658C13.3661 4.57799 13.8015 4.57799 14.0701 4.84658L15.4176 6.19405L16.765 4.84658C17.0336 4.57799 17.4691 4.57799 17.7376 4.84658C18.0062 5.11516 18.0062 5.55061 17.7376 5.81919L16.3902 7.16667L17.7359 8.51414ZM3.27911 3.95833C3.27911 1.81058 5.02628 0.0625 7.17495 0.0625C9.32361 0.0625 11.0708 1.81058 11.0708 3.95833C11.0708 6.10608 9.32361 7.85417 7.17495 7.85417C5.02628 7.85417 3.27911 6.10608 3.27911 3.95833ZM4.65411 3.95833C4.65411 5.34892 5.78436 6.47917 7.17495 6.47917C8.56553 6.47917 9.69578 5.34892 9.69578 3.95833C9.69578 2.56775 8.56553 1.4375 7.17495 1.4375C5.78436 1.4375 4.65411 2.56775 4.65411 3.95833ZM9 9.22917H5.33333C1.443 9.22917 0.0625 12.0773 0.0625 14.5175V17.25C0.0625 17.6295 0.3705 17.9375 0.75 17.9375C1.1295 17.9375 1.4375 17.6295 1.4375 17.25V14.5175C1.4375 13.5999 1.71892 10.6042 5.33333 10.6042H9C12.6144 10.6042 12.8958 13.599 12.8958 14.5175V17.25C12.8958 17.6295 13.2038 17.9375 13.5833 17.9375C13.9628 17.9375 14.2708 17.6295 14.2708 17.25V14.5175C14.2708 12.0773 12.8903 9.22917 9 9.22917Z",fill:"#E44E44"})}),eL=e=>{let{member:t,userIsTeamOwner:r,handleRemoveUser:l,selectedBtnId:i,isUpdatingTeamMembership:o}=e;return r?(0,n.jsxs)(ev.Menu,{children:[(0,n.jsx)(eC.Center,{children:t.role===Y.RUS.Owner?(0,n.jsx)(d.Text,{color:"white",children:"Owner"}):(0,n.jsx)(ef.MenuButton,{id:t.userId,defaultValue:t.role,as:x.Button,bg:"background.darkblue",fontSize:"sm",isLoading:i===t.userId&&o,border:"1px solid",borderColor:"border.greyBlue",borderRadius:"lg",variant:"standard",height:9,width:{base:12,md:28},children:(0,n.jsx)(eC.Center,{children:(0,n.jsxs)(ej.HStack,{children:[(0,n.jsx)(d.Text,{color:"white",children:"Options"}),(0,n.jsx)(eT.A,{display:{base:"none",md:"block"},color:"white",width:"2.5"})]})})})}),(0,n.jsx)(ey.MenuList,{minW:6,p:"0",bg:"background.darkblue",borderColor:"border.greyBlue",borderRadius:"lg",children:(0,n.jsx)(eF.MenuItem,{variant:"standard",bg:"background.darkblue",borderColor:"border.greyBlue",value:"remove",borderRadius:"lg",as:x.Button,height:9,width:32,onClick:()=>{if(t.userId)l(t.userId,{userId:t.userId});else{if(!t.userEmail){console.error("User email is missing");return}l(t.userId,{email:t.userEmail})}},children:(0,n.jsxs)(ej.HStack,{children:[(0,n.jsx)(eI,{color:"alert",boxSize:4.5}),(0,n.jsx)(d.Text,{children:"Remove"})]})})})]}):(0,n.jsx)(ev.Menu,{children:(0,n.jsx)(eC.Center,{children:"OWNER"===t.role?(0,n.jsx)(d.Text,{color:"white",children:"Owner"}):(0,n.jsx)(d.Text,{color:"white",children:"Editor"})})})};var eM=r(98464);let eR=e=>{let{teamId:t,members:r,invites:l}=e,[i,o]=(0,C.useState)(""),[a,s]=(0,C.useState)(!0),{handleRemoveUserFromTeam:c,isUpdatingTeamMembership:u,userIsTeamOwner:h,membersHaveLoaded:g,invitesDeclined:b}=(0,eM.A)(t),m=(e,r)=>{o(e),c(t,r)},{numberOfDeclinedInvites:p,declinedInvitesEmail:v}=b();return(0,n.jsxs)(n.Fragment,{children:[p>0&&a&&(0,n.jsx)(eE,{numberOfDeclinedInvites:p,declinedInvitesEmails:v,setCloseDeclinedUserInfo:s}),(0,n.jsx)(eu.TableContainer,{overflowY:"auto",minHeight:"25rem",maxHeight:"60vh",background:O.C3.DARK_BLUE_TWO,layerStyle:"scrollbarSlim",children:(0,n.jsxs)(eh.Table,{variant:"teamMemberTable",layout:"fixed",children:[(0,n.jsx)(ex.Thead,{children:(0,n.jsxs)(eg.Tr,{children:[(0,n.jsx)(eb.Th,{width:h?{base:"33%",md:"50%"}:{base:"66%",md:"70%"},children:"Members"}),h&&(0,n.jsx)(eb.Th,{width:{base:"33%",md:"30%"},children:"Username"}),(0,n.jsx)(eb.Th,{width:{base:"33%",md:"20%"},textAlign:"center",style:{paddingLeft:"0.5rem"},children:h?"Role / Action":"Role"})]})}),g&&(0,n.jsxs)(em.Tbody,{className:"table-body-wrapper",children:[r.map(e=>(0,n.jsxs)(eg.Tr,{children:[h&&(0,n.jsx)(ep.Td,{children:(0,n.jsx)(d.Text,{isTruncated:!0,children:e.userEmail})}),(0,n.jsx)(ep.Td,{children:(0,n.jsx)(d.Text,{isTruncated:!0,color:"white",children:e.user.username})}),(0,n.jsx)(ep.Td,{py:2,textAlign:"center",children:(0,n.jsx)(eL,{member:e,userIsTeamOwner:h,handleRemoveUser:m,selectedBtnId:i,isUpdatingTeamMembership:u})})]},e.user.username)),h&&l.map(e=>(0,n.jsxs)(eg.Tr,{children:[(0,n.jsx)(ep.Td,{children:e.inviteEmail&&(0,n.jsxs)(d.Text,{color:"secondary.inactive",isTruncated:!0,children:[e.inviteEmail," (pending)"]})}),h&&(0,n.jsx)(ep.Td,{children:"-"}),(0,n.jsx)(ep.Td,{py:2,children:h&&(0,n.jsxs)(ev.Menu,{children:[(0,n.jsx)(eC.Center,{children:(0,n.jsx)(ef.MenuButton,{id:e.id,defaultValue:e.inviteRole,as:x.Button,bg:"background.darkblue",fontSize:"sm",isLoading:i===e.id&&u,border:"1px solid",borderColor:"border.greyBlue",borderRadius:"lg",variant:"standard",height:9,width:{base:12,md:28},children:(0,n.jsx)(eC.Center,{children:(0,n.jsxs)(ej.HStack,{children:[(0,n.jsx)(d.Text,{color:"white",children:"Options"}),(0,n.jsx)(eT.A,{color:"white",width:"2.5"})]})})})}),(0,n.jsx)(ey.MenuList,{minW:6,p:"0",bg:"background.darkblue",borderColor:"border.greyBlue",borderRadius:"lg",children:(0,n.jsx)(eF.MenuItem,{onClick:()=>m(e.id,{email:e.inviteEmail}),variant:"standard",bg:"background.darkblue",borderColor:"border.greyBlue",value:"remove",borderRadius:"lg",as:x.Button,height:9,width:32,children:(0,n.jsxs)(ej.HStack,{children:[(0,n.jsx)(eI,{boxSize:4.5,color:"alert"}),(0,n.jsx)(d.Text,{children:"Remove"})]})})})]})})]},e.inviteEmail))]})]})})]})};var e_=r(64820),eO=r(5112);let eW="linear-gradient(90.08deg, #06080D 0%, #0D121C 100%)",eP=e=>{let{children:t}=e;return(0,n.jsx)(l.Flex,{alignItems:"center",bg:O.C3.GRAY_BLUE_ONE,children:t})},ez=e=>{let{isOpen:t,onClose:r,team:g,teamsMembers:b,teamsInvites:m,showInviteInput:p=!1,loading:v}=e,C=(null==b?void 0:b.length)+(null==m?void 0:m.length)||0,f=(null==g?void 0:g.teamName)||"Your team currently has no name";return(0,n.jsxs)(i.Modal,{isOpen:t,onClose:r,isCentered:!0,children:[(0,n.jsx)(o.ModalOverlay,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,n.jsxs)(a.ModalContent,{width:"90%",maxW:"700",borderColor:"transparent",bg:eW,maxH:"90vh",children:[(0,n.jsxs)(s.Box,{px:5,pt:6,pb:2,bg:eW,borderBottomWidth:"sm",borderBottomColor:"border.darkBlue",borderTopRadius:"lg",children:[!v&&(0,n.jsxs)(l.Flex,{alignItems:"center",justifyContent:"space-between",mb:2,children:[(0,n.jsx)(eP,{children:(0,n.jsxs)(d.Text,{fontSize:"16",fontWeight:"semibold",children:[f," \xa0 \xb7 \xa0 ",C," ",1!==C?"Members":"Member"]})}),(0,n.jsx)(e_.L,{dataTrackingId:eO.S2F})]}),!v&&p&&(null==g?void 0:g.id)&&(null==g?void 0:g.planSeats)&&(0,n.jsx)(ec,{team:g,teamsInvites:m,teamsMembers:b,planSeats:g.planSeats,isManagedTeam:!!g.paymentPlatformId})]}),(0,n.jsx)(c.ModalBody,{p:0,children:v?(0,n.jsx)(l.Flex,{background:' url("/img/teams/teams-background.png"), linear-gradient(110.8deg, #020305 0%, #070A0F 100%)',height:"620px",flex:1,justifyContent:"center",alignItems:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"top left",children:(0,n.jsxs)(u.VStack,{children:[(0,n.jsx)(U.a,{}),(0,n.jsx)(d.Text,{py:4,gap:2,children:"Loading..."})]})}):(0,n.jsx)(eR,{teamId:g.id,members:b,invites:m})}),(0,n.jsx)(h.ModalFooter,{bg:eW,borderTopWidth:"sm",borderColor:"border.darkBlue ",borderBottomRadius:"lg",children:(0,n.jsx)(x.Button,{borderRadius:"lg",onClick:r,variant:"TeamMembersManagementModal",border:"1px solid",borderColor:"border.greyBlue",children:v?"Cancel":"Close"})})]})]})}},39602:(e,t,r)=>{r.d(t,{H:()=>l,M:()=>i});var n=r(85756);let l=e=>!!(e&&Object.values(n.EE).includes(e));function i(e,t,r){let{price:l,quantity:i}=e.scheduledSub;return l!==t&&i!==r?n.Bl.BOTH:l!==t?n.Bl.PLAN:i!==r?n.Bl.SEATS:void 0}},62617:(e,t,r)=>{r.d(t,{T:()=>l});var n=r(49993);let l={alert:"#E44A35",alertmuted:"#FFC380",dark:"#010101",darkblue:"#10151F",darkbluealt:"#0B0F17",greyblue:"#0E111A",light:"#FEFEFE",loud:"#D1D4E2",muted:"#A6A6A6",lightbluegrey:"#C5C9D9",white:"#FFFFFF",subdued:"#494E5B",midnightBlue:"#1C212A",mediumGrey:"#979797",balticSea:"#292b3294",font:{placeholder:"#8B8E99",disabled:"#515359"},old:{darkblue:"#101622",grey:"#111111",greystroke:"#26272C",greyblue:"#242C3E"},primary:{purple:"#6B66FF",accent:"#C14DD4",textaccent:"#C66BD5"},secondary:{inactive:"#9094A6",yellow:"#FFBE4C",green:"#208051",greencheck:"#0ACE82"},background:{black:"#0b0b0e",codGrey:"#131313",darkblue:"#10151F",darkbluealt:"#1E232C",tealblue:"#131A28",darkbluetransparent:"#10151F80",flat:"#090D14",flatPanel:"#090D14",grey:"#171717",greyblue:"#191B23",indigo:"#5C58D2",notification:"#5555C9"},border:{grey:"#26272C",darkBlue:"#171B29",greyBlue:"#282C42",indigo:"#5C58D2",red:"#CE4333",green:"#208051",positive:"#33AB71",nobleBlack:"#202125",candyGrapeFizz:"#7258f2",negative:"#E44E44",notification:"#6A6AFB",badge:"#B14BF4"},navigation:{dark:"#1b1c20"},gradient:{main:n.C3.PURPLE_ONE,background:n.C3.DARK_BLUE_ONE,modalBackground:n.C3.DARK_BLUE_SUBTLE_ANGLE,pinkPurple:n.C3.PINK_PURPLE_50_50,blueTransparentDownRight:n.C3.BLUE_TRANSPARENT_DOWN_RIGHT,purpleTransparentDownRight:n.C3.PURPLE_TRANSPARENT_DOWN_RIGHT,redTransparentDownRight:n.C3.RED_TRANSPARENT_DOWN_RIGHT,lightRedTransparentDownRight:n.C3.LIGHT_RED_TRANSPARENT_DOWN_RIGHT,bgDark:n.C3.BG_DARK},button:{input:"#1B2232",hover:"#FFFFFF14"},content:{primary:"#FFFFFF",secondary:"#C5C9D9",tertiary:"#959699",disable:"#515359",primaryInverse:"#000000",highlight:"#C66BD5",notification:"#6A6AFB",warning:"#E5B300",positive:"#33AB71",negative:"#E44E44",apprentice:"#578BFE"},borderNew:{primary:"#282C42",secondary:"#171B29",primaryInverse:"#E6E7E7",selected:"#C66BD5",notification:"#6A6AFB",warning:"#E5B300",positive:"#33AB71",negative:"#E44E44",apprentice:"#3C5EA8",artisan:"#742E7F"},surface:{primary:"#10151F",secondary:"#070A0F",tertiary:"#020305",hover:"#1C1F28",active:"#282E38",positive:"#33AB71",negative:"#CE4333",negativeHover:"#E44E44",info:"#3333CE",notification:"#6A6AFB",inputDefault:"#181F2F",sliderDefault:"#2D3445",sliderSelected:"#C14DD4",popover:"#1B2232",free:"#0B0F17",black100:"#000000",white100:"#FFFFFF"},surfaceAlpha:{black:{0:"#00000000",5:"#0000000D",10:"#0000001A",25:"#00000040",50:"#00000080",75:"#000000BF"},white:{0:"#FFFFFF00",5:"#FFFFFF0D",10:"#FFFFFF1A",25:"#FFFFFF40",50:"#FFFFFF80",75:"#FFFFFFBF"},grey:{30:"#AAAAAA4D",40:"#AAAAAA66",50:"#AAAAAA80"}},accent:{lighteningLight:"#64A5FF",lighteningDark:"#005DDB",1:"#DB519E",2:"#C66BD5",3:"#C14DD4",apprentice:"#578BFE",artisan:"#9A3EAA"}}},64820:(e,t,r)=>{r.d(t,{L:()=>a});var n=r(95155),l=r(5520),i=r(60855),o=r(72461);let a=e=>{let{children:t,...r}=e,{onClose:a}=(0,l.useModalContext)();return(0,n.jsx)(o._,{p:1,"aria-label":"Close Modal",rounded:"50%",alignItems:"center",justifyContent:"center",bg:"rgba(0, 0, 0, 0.58)",color:"white",width:"8",height:"8",minWidth:"unset",onClick:e=>{e.stopPropagation(),a()},borderWidth:"px",borderStyle:"solid",borderColor:"border.primary",...r,children:t||(0,n.jsx)(i.A,{})})}},71677:(e,t,r)=>{r.d(t,{M:()=>a});var n=r(31117),l=r(12115),i=r(958);let o=(e,t)=>{var r,n,l,i,o;let a=t?e:void 0,s=null==a?void 0:a.paymentPlatformSubscriptionDetails,d=null!==(l=null==s?void 0:s.schedule)&&void 0!==l?l:void 0,c=(null==s?void 0:s.status)==="canceled",u=(null==s?void 0:null===(r=s.cancellation_details)||void 0===r?void 0:r.reason)==="cancellation_requested"&&(null==s?void 0:s.status)==="active";return{status:null==s?void 0:s.status,cancellationReason:null!==(i=null==s?void 0:null===(n=s.cancellation_details)||void 0===n?void 0:n.reason)&&void 0!==i?i:void 0,cancelAt:null!==(o=null==s?void 0:s.cancel_at)&&void 0!==o?o:void 0,showRenewSubscription:c||u,isSubscriptionExpired:c,scheduledPlanChangeDetails:d}},a=(e,t)=>{let[r,a]=(0,l.useState)(null),[s,d]=(0,l.useState)(!0),c=(0,n.m)();return(0,l.useEffect)(()=>{(async()=>{if(e&&t){d(!0);try{var r,n;let l=await c.query({query:i.u7v,variables:{teamId:e},fetchPolicy:"network-only"}),s=null==l?void 0:null===(n=l.data)||void 0===n?void 0:null===(r=n.team_plan_history)||void 0===r?void 0:r.find(e=>e.plan===t);if(!s)throw Error("No matching plan history found");a({teamPlanHistoryStatus:o(s,t),teamPlanHistoryList:l.data.team_plan_history,matchingPlanHistory:s})}catch(e){}finally{d(!1)}}})()},[e,t,c]),{data:r,loading:s}}},91133:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(95155),l=r(3740),i=r(12115);let o=e=>{let t=(0,i.useId)();return(0,n.jsxs)(l.Icon,{width:"2.25rem",height:"2.3125rem",viewBox:"0 0 36 37",fill:"none",...e,children:[(0,n.jsx)("path",{d:"M22.9922 6.54688L27 5L28.4766 1.0625C28.5469 0.710938 28.8984 0.5 29.25 0.5C29.5312 0.5 29.8828 0.710938 29.9531 1.0625L31.5 5L35.4375 6.54688C35.7891 6.61719 36 6.96875 36 7.25C36 7.60156 35.7891 7.95312 35.4375 8.02344L31.5 9.5L29.9531 13.5078C29.8828 13.7891 29.5312 14 29.25 14C28.8984 14 28.5469 13.7891 28.4766 13.5078L27 9.5L22.9922 8.02344C22.6406 7.95312 22.5 7.60156 22.5 7.25C22.5 6.96875 22.6406 6.61719 22.9922 6.54688ZM12.375 5.70312C12.5156 5.28125 12.9375 5 13.3594 5C13.7812 5 14.2031 5.28125 14.4141 5.70312L18.0703 13.7188L26.0859 17.375C26.5078 17.5859 26.7891 18.0078 26.7891 18.4297C26.7891 18.8516 26.5078 19.2734 26.0859 19.4844L18.0703 23.1406L14.4141 31.1562C14.2031 31.5781 13.7812 31.8594 13.3594 31.8594C12.9375 31.8594 12.5156 31.5781 12.375 31.1562L8.64844 23.1406L0.632812 19.4844C0.210938 19.2734 0 18.8516 0 18.4297C0 18.0078 0.210938 17.5859 0.632812 17.375L8.64844 13.7188L12.375 5.70312ZM11.6719 15.125C11.3906 15.8281 10.7578 16.4609 10.0547 16.7422L6.46875 18.4297L10.0547 20.1172C10.7578 20.3984 11.3906 21.0312 11.6719 21.7344L13.3594 25.3203L15.0469 21.7344C15.3281 21.0312 15.9609 20.3984 16.6641 20.1172L20.25 18.4297L16.6641 16.7422C15.9609 16.4609 15.3281 15.8281 15.0469 15.125L13.3594 11.5391L11.6719 15.125ZM28.4766 23.5625C28.5469 23.2109 28.8984 23 29.25 23C29.5312 23 29.8828 23.2109 29.9531 23.5625L31.5 27.5L35.4375 29.0469C35.7891 29.1172 36 29.4688 36 29.75C36 30.1016 35.7891 30.4531 35.4375 30.5234L31.5 32L29.9531 36.0078C29.8828 36.2891 29.5312 36.5 29.25 36.5C28.8984 36.5 28.5469 36.2891 28.4766 36.0078L27 32L22.9922 30.5234C22.6406 30.4531 22.5 30.1016 22.5 29.75C22.5 29.4688 22.6406 29.1172 22.9922 29.0469L27 27.5L28.4766 23.5625Z",fill:"url(#paint0_linear_".concat(t,")")}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"paint0_linear_".concat(t),x1:"1.36364",y1:"8.07895",x2:"30.3777",y2:"3.60549",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#DB519E"}),(0,n.jsx)("stop",{offset:"0.499028",stopColor:"#B14BF4"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#6E7BFC"})]})})]})}},98464:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(958),l=r(68691),i=r(88095),o=r(20690),a=r(91073),s=r(34853);let d=()=>{let[e,{loading:t}]=(0,i.n)(n.C24),{handleGenError:r}=(0,o.B)(),l=(0,a.A)();return{updateTeamMembership:async(t,n)=>{let{email:i}=n;try{let r=await e({variables:{details:n,teamId:t}});return r.data&&l({description:"".concat(i||"User"," has been removed"),type:"info",position:"bottom-right"}),r}catch(e){if((0,s.V)(e)&&(0,s.o)({error:e,onError:r}))return;l({description:e.message,type:a.k.error}),console.error(e)}},isUpdatingTeamMembership:t}};var c=r(20876);let u=e=>{let t=(0,l.j)(),r=(0,l.G)(e=>e.teamsMembers.loaded),i=(0,l.G)(e=>e.teamsMembers.teamsInvites),o=(0,l.G)(e=>e.teamsMembers.teamsMembers),a=(0,l.G)(e=>e.user.teams),{isUpdatingTeamMembership:s,updateTeamMembership:u}=d(),h=i.filter(e=>!e.dateAccepted&&!e.dateDeclined),x=null==a?void 0:a.find(t=>t.id===e),g=(null==x?void 0:x.userRole)===n.RUS.Owner,b=async(e,r)=>{let l={action:n.Wux.Delete,...r};await u(Number(e),l),!s&&e&&t((0,c.E)(e))};return{teamsMembers:o,teamsInvites:h,isUpdatingTeamMembership:s,userIsTeamOwner:g,membersHaveLoaded:r,team:x,invitesDeclined:()=>{let e=i.filter(e=>null!==e.dateDeclined);return g&&e.length>0?{numberOfDeclinedInvites:e.length,declinedInvitesEmail:e.map(e=>e.inviteEmail)}:{numberOfDeclinedInvites:0,declinedInvitesEmail:[""]}},handleRemoveUserFromTeam:b}}}}]);