try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="303a4561-14d1-4136-a59f-0b1f20c9f3e3",e._sentryDebugIdIdentifier="sentry-dbid-303a4561-14d1-4136-a59f-0b1f20c9f3e3")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3597],{8536:(e,t,r)=>{r.d(t,{V:()=>a,default:()=>s});var i=r(95155),n=r(12115);let a=(0,n.createContext)({pendingAiGenObjects:[],hiddenPendingGenerationIds:null,setPendingAiGenObjects:()=>null,showUpgradeBanner:!1,setShowUpgradeBanner:()=>null,unseenGenerations:0,setUnseenGenerations:()=>null}),s=e=>{let{children:t}=e,[r,s]=(0,n.useState)([]),[l,o]=(0,n.useState)(0),[d,c]=(0,n.useState)(!1),u=(0,n.useRef)([]),g=(0,n.useMemo)(()=>({pendingAiGenObjects:r,setPendingAiGenObjects:s,showUpgradeBanner:d,setShowUpgradeBanner:c,unseenGenerations:l,setUnseenGenerations:o,hiddenPendingGenerationIds:u}),[r,d,l]);return(0,i.jsx)(a.Provider,{value:g,children:t})}},9948:(e,t,r)=>{r.d(t,{e:()=>s,g:()=>o});var i=r(31698),n=r(958),a=r(25634);let s=e=>{let{prompt:t,initImage:r,queryIsPushed:n,loadingModels:a,usingLeonardoMagic:s,usingMotion:l,motionPrompts:o,imagePrompts:d}=e,c=[];!l||(null==o?void 0:o.length)&&o[0].prompt.length||c.push("Please type a motion prompt"),t||l||c.push("Please type a prompt."),a&&c.push("Acquiring models ..."),n&&c.push("Your previous generation is still getting sent!"),l||s||(null==r?void 0:r.type)===i.w.Img2Img||(null==r?void 0:r.uploadPercent)===void 0||100===r.uploadPercent||c.push("Image is still uploading!");let u=d&&d.length>0&&d.filter(e=>e.type===i.w.ImagePrompt?!e.initImageId:!e.id).length>0;return s&&u&&c.push("Some of the image prompts are still uploading."),c},l=e=>new Promise(t=>setTimeout(t,e)),o=e=>a.Ay.refetchQueries({include:[n.sgm],onQueryUpdated:async t=>{if(!e)return await t.refetch();{let r;for(let i=3;i&&!((r=await t.refetch()).error||!r.data.generations.length||r.data.generations.some(t=>t.id===e));i--)await l(1e3);return r}}})},21849:(e,t,r)=>{r.d(t,{l:()=>g,z:()=>u});var i=r(95155),n=r(31481),a=r(12115),s=r(40812),l=r(69122),o=r(64478);let d={settings:{isPrivate:!0,motionStrength:n.SVD_MOTION_STRENGTH_DEFAULT,model:s.pO,prompt:"",promptEnhance:!0,frameInterpolation:!0},preferences:{allowConfirmationModal:!0}},c=(0,a.createContext)(void 0),u=e=>{let{children:t}=e,r=(0,o.w)(),{userSelectedTeam:n}=(0,l.s)(),u=n(),g=u.id?"".concat(r,":").concat(u.id,":").concat(s.vA):"".concat(r,":").concat(s.vA),[m,h]=(0,a.useState)(d);(0,a.useEffect)(()=>{let e=localStorage.getItem(g);null!==e&&h(t=>({...t,settings:{...t.settings,isPrivate:"true"===e}}))},[g]);let p=(0,a.useCallback)(e=>{localStorage.setItem(g,e.toString()),h(t=>({...t,settings:{...t.settings,isPrivate:e}}))},[g]),x=(0,a.useCallback)(e=>{h(t=>({...t,settings:{...t.settings,motionStrength:e}}))},[]),f=(0,a.useCallback)(e=>{h(t=>({...t,settings:{...t.settings,model:e}}))},[]),v=(0,a.useCallback)(e=>{h(t=>({...t,settings:{...t.settings,prompt:e}}))},[]),j=(0,a.useCallback)(e=>{h(t=>({...t,settings:{...t.settings,promptEnhance:e}}))},[]),C=(0,a.useCallback)(e=>{h(t=>({...t,settings:{...t.settings,frameInterpolation:e}}))},[]),b=(0,a.useCallback)(e=>{if(!r)return;let t="".concat(r,":").concat(s.MF);localStorage.setItem(t,e.toString()),h(t=>({...t,preferences:{...t.preferences,allowConfirmationModal:e}}))},[r]);(0,a.useEffect)(()=>{if(!r)return;let e="".concat(r,":").concat(s.MF),t=localStorage.getItem(e);null!==t&&h(e=>({...e,preferences:{...e.preferences,allowConfirmationModal:"true"===t}}))},[r]);let I=(0,a.useMemo)(()=>({state:m,setIsPrivate:p,setMotionStrength:x,setMotionModel:f,setAllowConfirmationModal:b,setPrompt:v,setPromptEnhance:j,setInterpolation:C}),[m,p,x,f,b,v,j,C]);return(0,i.jsx)(c.Provider,{value:I,children:t})};function g(){let e=(0,a.useContext)(c);if(!e)throw Error("useMotionGenerationModal must be used within a MotionGenerationModalProvider");return e}},25540:(e,t,r)=>{r.d(t,{b:()=>n});var i=r(95155);let n=e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...e,children:(0,i.jsx)("path",{d:"M10.698 15.396L6.3181 10.2019C5.5821 9.3289 6.20603 8 7.35203 8H16.6479C17.7939 8 18.4179 9.3299 17.6819 10.2019L13.302 15.396C12.623 16.201 11.377 16.201 10.698 15.396Z",fill:"currentColor"})})},32862:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(95155),n=r(3740),a=r(12115);let s=e=>{let t=(0,a.useId)(),r="question-gradient-icon-".concat(t);return(0,i.jsxs)(n.Icon,{width:"1rem",height:"1rem",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,i.jsx)("path",{d:"M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5C12.1423 15.5 15.5 12.1423 15.5 8C15.5 3.85775 12.1423 0.5 8 0.5ZM8.01501 12.125C7.60101 12.125 7.26117 11.789 7.26117 11.375C7.26117 10.961 7.59351 10.625 8.00751 10.625H8.01501C8.42976 10.625 8.76501 10.961 8.76501 11.375C8.76501 11.789 8.42901 12.125 8.01501 12.125ZM9.20227 8.39606C8.65402 8.76356 8.55195 8.96828 8.5332 9.02228C8.45445 9.25703 8.2355 9.40552 8 9.40552C7.94075 9.40552 7.88072 9.39647 7.82147 9.37622C7.52672 9.27722 7.36855 8.95851 7.4668 8.66376C7.60255 8.25876 7.95432 7.877 8.57532 7.46075C9.34107 6.94775 9.24276 6.38531 9.21051 6.20081C9.12576 5.71031 8.71248 5.29241 8.22723 5.20691C7.85823 5.13941 7.49758 5.23616 7.21558 5.47241C6.93208 5.71016 6.76917 6.06043 6.76917 6.43243C6.76917 6.74293 6.51717 6.99493 6.20667 6.99493C5.89616 6.99493 5.64417 6.74293 5.64417 6.43243C5.64417 5.72668 5.95324 5.06297 6.49249 4.61072C7.02649 4.16372 7.72922 3.97704 8.42297 4.10004C9.37322 4.26804 10.1525 5.05323 10.3183 6.00873C10.4833 6.95523 10.0865 7.80356 9.20227 8.39606Z",fill:"url(#".concat(r,")")}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:r,x1:"-5.95",y1:"0.499997",x2:"17.4864",y2:"-3.20338",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0.0001",stopColor:"#FA5560"}),(0,i.jsx)("stop",{offset:"0.499028",stopColor:"#B14BF4"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#4D91FF"})]})})]})}},33036:(e,t,r)=>{r.d(t,{Jv:()=>m,Nu:()=>p,u5:()=>h});var i=r(8777),n=r(46671),a=r(85756),s=r(52592),l=r(35936),o=r(958),d=r(67317);let c=e=>{let{imageHeight:t,imageWidth:r,numImages:i,controlNetFee:n}=e;return Math.max(Math.ceil(t/650*(r/650)*2)*i,10)+n},u=e=>{let{imageHeight:t,imageWidth:r,numImages:i,controlNetFee:n}=e;return Math.round(t*r/1e6*8*i)+n},g=e=>{let{imageHeight:t,imageWidth:r,numImages:i,controlNetFee:n}=e;return Math.round(t*r/1e6*2*i)+n},m=e=>{let{imageHeight:t,imageWidth:r,numImages:i,inferenceSteps:a,usingLeonardoMagic:o,highResolution:m,usingSdxl:h,usingSdxlLightning:p,leonardoMagicVersion:x,modelVersion:f,motionPrompts:v,usingMotion:j,isUsingAlchemy:C,isUsingUltra:b,usingPhotoReal:I,controlnets:N}=e;if(j)return 10*v.reduce((e,t)=>e+t.durationSeconds,0);let y=(0,l.L7)(f),w=(0,l.iO)(f),S=(0,l.QB)(f),k=w||S,T=N.reduce((e,t)=>y&&t===s.bd.ContentTransfer||k&&t===s.bd.StyleTransfer?e+3*i:e+2,0),_=8*!!(o&&x===n.PROMPT_MAGIC_VERSIONS.v3||I||C&&h);if(w)return u({imageHeight:t,imageWidth:r,numImages:i,controlNetFee:T});if(S)return g({imageHeight:t,imageWidth:r,numImages:i,controlNetFee:T});if(!C&&y){let e=c({imageHeight:t,imageWidth:r,numImages:i,controlNetFee:T});return b?e+(0,d.r)({inputWidth:r,inputHeight:t,upscaleMultiplier:2})*i:e}if(C){let e=Math.round(Math.max(y?15:8,t*r/1048576*i*8*(C?!m||h||I?1:2:1)))+_+T;return p&&!I&&(e=Math.ceil(.6*e)),e}let M=Math.round(Math.max(t/768*(r/768)*(Math.max(a,20)/20),1)*(o?2:1)*i*(h?2:1))+_+T;return p&&!I&&(M=Math.ceil(.7*M)),M},h=(e,t,r)=>{let i=a.me,n=a.ss;return t&&r?n=a.su:e&&!r&&(n=a.Zz),{dimensionMinPixels:i,dimensionMaxPixels:n}},p=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5?arguments[5]:void 0;return{id:(0,i.randomBytes)(16).toString("hex"),imageWidth:a.Jz.WIDTH,imageHeight:a.Jz.HEIGHT,prompt:e,coreModel:null!=t?t:"SD",status:a.iD,createdAt:"0",quantity:1,public:!!r,tiling:!1,transparency:null!=l?l:o.P2Y.Disabled,highContrast:!1,promptMagic:!1,generation_controlnets:[],generation_elements:[],photoReal:!1,motion:null!=n&&n,nsfw:null!=s&&s,prompt_moderations:[],notes:[]}}},37479:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(95155),n=r(77700),a=r(78881);let s=e=>{let{children:t,backgroundSize:r,...s}=e;return(0,i.jsx)(n.Box,{width:"100%",height:"100%",position:"relative",_before:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:r||"100%",backgroundImage:"url(".concat(a.Xl,")"),content:"''",position:"absolute",width:"100%",height:"100%",display:"block",filter:"grayscale(100%)"},...s,children:t})}},40812:(e,t,r)=>{r.d(t,{MF:()=>a,iD:()=>n,pO:()=>i,vA:()=>s});let i={id:"wan2-1",name:"Wan 2.1",image:"https://cdn.leonardo.ai/static/images/video/waves.gif"},n=[i,{id:"svd",name:"SVD",image:"https://cdn.leonardo.ai/static/images/video/supernova.gif"}],a="motion-allow-confirmation",s="motion-modal-private-mode"},50762:(e,t,r)=>{r.d(t,{N:()=>c});var i=r(35695),n=r(12115),a=r(8536),s=r(9948),l=r(20690),o=r(19321),d=r(80891);let c=()=>{let{handleGenError:e}=(0,l.B)(),{setPendingAiGenObjects:t,hiddenPendingGenerationIds:r,setShowUpgradeBanner:c,setUnseenGenerations:u}=(0,n.useContext)(a.V),{isUserFreePlan:g}=(0,d.usePlan)(),m=(0,i.usePathname)(),h=(0,n.useCallback)(()=>{if(!u)throw Error("incrementUnseenIfNeeded: AIImageGenerationContext is not provided");(null==m?void 0:m.startsWith(o.a.AI_GENERATIONS))&&m!==o.a.AI_GENERATIONS&&u(e=>e+1)},[m,u]);return(0,n.useCallback)(async i=>{let{error:n,newGenerationId:a,requestId:l}=i;null==c||c(g);let o=()=>{null==t||t(e=>e.filter(e=>e.id!==l))};if(n)e(n),o(),h();else if(a){var d;null==r||null===(d=r.current)||void 0===d||d.push(l),await (0,s.g)(a),o(),h()}},[e,h,g,t,c])}},73364:(e,t,r)=>{r.d(t,{d:()=>c});var i=r(95155),n=r(96440),a=r(74466),s=r(12115),l=r(59434);let o=(0,a.F)("focus-visible:ring-ring focus-visible:ring-offset-background data-[state=unchecked]:bg-slider data-[state=checked]:bg-gradient-primary peer inline-flex shrink-0 cursor-pointer items-center rounded-full p-0.5 transition-colors focus-visible:ring-1 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:cursor-not-allowed disabled:opacity-50",{variants:{size:{sm:"h-5 w-10",default:"h-6 w-14",lg:"h-8 w-14"}},defaultVariants:{size:"default"}}),d=(0,a.F)("bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform",{variants:{size:{sm:"size-4 data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",default:"size-5 data-[state=checked]:translate-x-8 data-[state=unchecked]:translate-x-0",lg:"size-6 data-[state=checked]:translate-x-7 data-[state=unchecked]:translate-x-0"}},defaultVariants:{size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,size:a,...s}=e;return(0,i.jsx)(n.bL,{className:(0,l.cn)(o({size:a,className:r})),...s,ref:t,children:(0,i.jsx)(n.zi,{className:(0,l.cn)(d({size:a}))})})});c.displayName=n.bL.displayName},74824:(e,t,r)=>{r.d(t,{bq:()=>m,eb:()=>p,gC:()=>h,l6:()=>c,yv:()=>u});var i=r(95155),n=r(62052),a=r(74466),s=r(12115),l=r(25540),o=r(8446),d=r(59434);let c=e=>(0,i.jsx)(n.bL,{"data-slot":"select",...e});c.displayName=n.bL.displayName;let u=s.forwardRef((e,t)=>{let{...r}=e;return(0,i.jsx)(n.WT,{"data-slot":"select-value",ref:t,...r})});u.displayName=n.WT.displayName;let g=(0,a.F)("group/select-trigger border-primary bg-input ring-offset-background focus-visible:border-selected hover:enabled:bg-hover aria-expanded:border-selected aria-invalid:border-negative data-placeholder:text-tertiary-foreground flex w-full items-center justify-between gap-2.5 rounded-md border px-4 py-2 text-left text-sm transition-colors focus-visible:outline-hidden disabled:cursor-not-allowed disabled:opacity-70 [&>span]:line-clamp-1",{variants:{size:{sm:"h-8 text-sm",default:"h-10 text-sm",lg:"h-12 text-base"}},defaultVariants:{size:"default"}}),m=s.forwardRef((e,t)=>{let{className:r,size:a,children:s,...o}=e;return(0,i.jsxs)(n.l9,{"data-slot":"select-trigger",ref:t,className:(0,d.cn)(g({size:a,className:r})),...o,children:[s,(0,i.jsx)(n.In,{asChild:!0,children:(0,i.jsx)(l.b,{className:"text-primary-foreground size-5 group-data-[state=open]/select-trigger:rotate-180"})})]})});m.displayName=n.l9.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:a,position:s="popper",...l}=e;return(0,i.jsx)(n.ZL,{children:(0,i.jsx)(n.UC,{"data-slot":"select-content",ref:t,className:(0,d.cn)("z-popover border-primary bg-primary shadow-glow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative max-h-52 min-w-32 overflow-hidden rounded-lg border",r),position:s,...l,children:(0,i.jsx)(n.LM,{"data-slot":"select-viewport",className:(0,d.cn)("-mx-px","popper"===s&&"h-[var(--radix-select-trigger-height)] w-[var(--radix-select-trigger-width)] min-w-32"),"data-radix-select-viewport":void 0,children:a})})})});h.displayName=n.UC.displayName;let p=s.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,i.jsxs)(n.q7,{"data-slot":"select-item",ref:t,className:(0,d.cn)("text-primary-foreground hover:bg-hover focus:bg-hover relative flex w-full cursor-pointer items-center gap-4 border-b px-4 py-2 text-sm outline-hidden select-none last:border-0 data-disabled:pointer-events-none data-disabled:bg-transparent data-disabled:opacity-70",r),...s,children:[(0,i.jsx)("span",{className:"flex-1",children:(0,i.jsx)(n.p4,{children:a})}),(0,i.jsx)("span",{className:"flex size-6 items-center justify-center",children:(0,i.jsx)(n.VF,{children:(0,i.jsx)(o.S,{className:"size-6"})})})]})});p.displayName=n.q7.displayName},83597:(e,t,r)=>{r.d(t,{U:()=>eY});var i=r(95155),n=r(35695),a=r(12115),s=r(52017),l=r(27104),o=r(58727),d=r(58670),c=r(39376),u=r(5643),g=r(59108),m=r(60078),h=r(49174),p=r(85821),x=r(31481),f=r(46671),v=r(55028),j=r(3740),C=r(32237);let b=()=>(0,i.jsxs)(o.HStack,{py:1,children:[(0,i.jsx)(j.Icon,{as:C.y3G,color:"alert"}),(0,i.jsx)(d.Text,{fontSize:"sm",color:"alert",children:"Video generations are currently unavailable for users on a free plan."})]});var I=r(21849),N=r(98854),y=r(93322),w=r(73364),S=r(59726),k=r(69122);let T=e=>{let{isUploadedImage:t,isDisabled:r}=e,{state:n,setIsPrivate:a}=(0,I.l)(),{userSelectedTeam:s}=(0,k.s)(),l=s(),o=l.id?"Hide in Team Feed":"Private Mode",d=l.id?"Show or hide your generations from the Team Feed.":"Show or hide your generations from the Community Feed.";return(0,i.jsx)("div",{className:"w-full",children:(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(y.J,{htmlFor:"motion-generation-modal-private",children:o}),(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsx)(N.y,{className:"text-tertiary-foreground size-5"})}),(0,i.jsx)(S.ZI,{side:"right",children:d})]})]}),(0,i.jsx)("div",{className:"relative shrink-0",children:(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(w.d,{id:"motion-generation-modal-private",checked:t||n.settings.isPrivate,disabled:r||t,onCheckedChange:a,size:"sm"})})}),t&&(0,i.jsx)(S.ZI,{children:"Video generations using uploads are private"})]})})]})})};var _=r(81228),M=r(6874),O=r.n(M),E=r(33785),A=r(90339),D=r(72461),V=r(19321),P=r(83833),z=r(5112);let G={BANNER_A:{heading:"Unlock Premium",buttonLabel:"Upgrade"},BANNER_B:{heading:"Generate More",buttonLabel:"Unlock Premium"}},R=()=>{let{motionUpgradeBannerVersion:e}=(0,P.D)(),t=!function(e){let t=["BANNER_A","BANNER_B"].includes(e);return t||console.warn("motionUpgradeBannerVersion has incorrect type: ",e),t}(null==e?void 0:e.type)?"BANNER_A":e.type,{heading:r,buttonLabel:n}=G[t],a=(0,_.RL)();return(0,i.jsx)(E._,{heading:r,text:"Upgrade to remove watermarks from videos",layerStyle:"glow",iconBackground:"gradient.pinkPurple",icon:(0,i.jsx)(A.A,{width:8,height:8}),button:(0,i.jsx)(D._,{as:O(),dataTrackingId:z.Dbc,href:V.a.BUY,px:4,py:2,variant:"primary",onClick:()=>null==a?void 0:a.track("motionUpgradeBannerClick",{clicked:!0,variation:t}),children:n})})},B=()=>{let{state:e,setInterpolation:t}=(0,I.l)(),r=(0,a.useId)();return(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(y.J,{htmlFor:r,children:"Smooth Video"}),(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsx)(N.y,{className:"text-tertiary-foreground size-5"})}),(0,i.jsx)(S.ZI,{side:"right",children:"Smoothly blend frames for fluid video transitions using Interpolation."})]})]}),(0,i.jsx)(w.d,{id:r,checked:e.settings.frameInterpolation,onCheckedChange:t,size:"sm"})]})};var F=r(37479),L=r(98021),H=r(78158);let U=e=>(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",...e,children:[(0,i.jsx)("path",{d:"M8.66782 0.780522C9.07292 0.548761 9.53234 0.426758 10 0.426758C10.4677 0.426758 10.9271 0.54875 11.3321 0.780489C11.3326 0.780715 11.3329 0.780942 11.3334 0.781169L18.6666 4.93826C19.0717 5.17022 19.408 5.50375 19.6421 5.90538C19.8761 6.30702 19.9995 6.76265 20 7.22655V15.5413C19.9995 16.0053 19.8761 16.4615 19.6421 16.8631C19.408 17.2647 19.0717 17.5982 18.6666 17.8301L18.6645 17.8314L11.3334 21.9873C11.3328 21.9876 11.3323 21.9878 11.3319 21.9881C10.9269 22.2198 10.4675 22.3417 10 22.3417C9.53246 22.3417 9.07314 22.2197 8.66808 21.9881C8.66761 21.9878 8.66714 21.9875 8.66666 21.9873L1.33554 17.8314L1.33334 17.8301C0.928354 17.5982 0.591977 17.2647 0.357954 16.8631C0.12392 16.4615 0.00048 16.0058 0 15.5419V7.22714C0.00048 6.76323 0.12392 6.30702 0.357954 5.90538C0.591977 5.50375 0.928354 5.17022 1.33334 4.93826L1.33553 4.93701L8.66666 0.781169C8.66705 0.780953 8.66743 0.780738 8.66782 0.780522ZM10 1.56051C9.73257 1.56051 9.46971 1.63036 9.23806 1.76303L9.23589 1.76429L1.90477 5.92013C1.90442 5.92032 1.90409 5.92051 1.90376 5.92071C1.67279 6.05322 1.48094 6.24359 1.34739 6.47276C1.21371 6.70219 1.14318 6.96245 1.14286 7.22745V15.541C1.14318 15.8061 1.21371 16.0663 1.34739 16.2957C1.48095 16.5249 1.67283 16.7153 1.90384 16.8478C1.90353 16.8476 1.90415 16.848 1.90384 16.8478L9.23806 21.0054C9.46971 21.1381 9.73257 21.2079 10 21.2079C10.2674 21.2079 10.5303 21.1381 10.7619 21.0054L10.7641 21.0042L18.0952 16.8483C18.095 16.8485 18.0955 16.8482 18.0952 16.8483C18.3263 16.7158 18.5191 16.5249 18.6526 16.2957C18.7863 16.0661 18.8569 15.8058 18.8571 15.5408V7.22772C18.8569 6.96262 18.7863 6.70227 18.6526 6.47276C18.5191 6.24359 18.3272 6.05322 18.0962 5.92071C18.0959 5.92051 18.0955 5.92032 18.0952 5.92013L10.7641 1.76429L10.7619 1.76303C10.5303 1.63036 10.2674 1.56051 10 1.56051Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M0.359605 5.86064C0.517628 5.58964 0.867194 5.49702 1.14037 5.6538L9.99996 10.7379L18.8595 5.6538C19.1328 5.49702 19.4822 5.58964 19.6403 5.86064C19.7984 6.13164 19.705 6.47841 19.4318 6.63517L10.2861 11.8836C10.1091 11.9851 9.89082 11.9851 9.71379 11.8836L0.568119 6.63517C0.294931 6.47841 0.201582 6.13164 0.359605 5.86064Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M9.99965 10.8171C10.3152 10.8171 10.5711 11.071 10.5711 11.384V21.8599C10.5711 22.1729 10.3152 22.4268 9.99965 22.4268C9.68411 22.4268 9.42822 22.1729 9.42822 21.8599V11.384C9.42822 11.071 9.68411 10.8171 9.99965 10.8171Z",fill:"currentColor"})]}),Z=e=>{let{model:t,isNew:r}=e;return(0,i.jsxs)("div",{className:"flex flex-1 items-center gap-2 overflow-hidden",children:[(0,i.jsx)("div",{className:"size-10 overflow-hidden rounded-sm",children:(null==t?void 0:t.image)?(0,i.jsx)(L._,{src:null==t?void 0:t.image,alt:(null==t?void 0:t.name)||"",width:40,height:40,className:"rounded-sm object-cover"},t.id):(0,i.jsx)(F.A,{})}),(0,i.jsxs)("div",{className:"flex flex-1 flex-col items-start",children:[(0,i.jsxs)("div",{className:"text-secondary-foreground flex items-center gap-1 text-xs",children:[(0,i.jsx)(U,{className:"size-4"}),(0,i.jsx)("span",{children:"Model"})]}),(0,i.jsx)("p",{className:"font-medium",children:null==t?void 0:t.name})]}),r&&(0,i.jsx)(H.E,{className:"text-xs",children:"New"})]})};var W=r(40812),q=r(74824);let J=()=>{let{state:e,setMotionModel:t}=(0,I.l)(),{model:r}=e.settings,n=(0,a.useId)();return(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(y.J,{htmlFor:n,children:"Model"}),(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsx)(N.y,{className:"text-tertiary-foreground size-5"})}),(0,i.jsx)(S.ZI,{side:"right",children:"Select the motion model you want to use."})]})]}),(0,i.jsxs)(q.l6,{value:null==r?void 0:r.id,onValueChange:e=>{let r=W.iD.find(t=>t.id===e);r&&t(r)},children:[(0,i.jsx)(q.bq,{className:"w-full px-2",size:"lg",children:r&&(0,i.jsx)(Z,{model:r,isNew:r.id===W.pO.id})}),(0,i.jsx)(q.gC,{children:W.iD.map(e=>(0,i.jsx)(q.eb,{value:e.id,className:"rounded-sm px-2",children:(0,i.jsx)(Z,{model:e,isNew:e.id===W.pO.id})},e.id))})]})]})},$=()=>{let{state:e,setPromptEnhance:t}=(0,I.l)(),r=(0,a.useId)();return(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(y.J,{htmlFor:r,children:"Prompt Enhance"}),(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsx)(N.y,{className:"text-tertiary-foreground size-5"})}),(0,i.jsx)(S.ZI,{side:"right",children:"Prompts will be refined to improve outputs."})]})]}),(0,i.jsx)(w.d,{id:r,checked:e.settings.promptEnhance,onCheckedChange:t,size:"sm"})]})};var K=r(26365);let Q=()=>{let{state:e,setPrompt:t}=(0,I.l)(),{prompt:r}=e.settings,n=(0,a.useId)();return(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(y.J,{htmlFor:n,children:["Prompt ",(0,i.jsx)("span",{className:"text-negative-foreground",children:"*"})]}),(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsx)(N.y,{className:"text-tertiary-foreground size-5"})}),(0,i.jsx)(S.ZI,{side:"right",children:"Guide the animation by providing a descriptive prompt."})]})]}),(0,i.jsx)(K.P,{id:n,value:r,onChange:t,"aria-label":"Motion generation prompt",placeholder:"Type in prompt...",required:!0,"aria-required":"true",fontSize:"sm"})]})};var Y=r(57416),X=r(8392);let ee=()=>{let{state:e,setMotionStrength:t}=(0,I.l)(),{motionStrength:r}=e.settings,n=e=>{t(e)};return(0,i.jsxs)("div",{className:"flex w-full flex-col justify-between gap-1 md:flex-row md:items-center",children:[(0,i.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,i.jsx)(y.J,{htmlFor:"motion-strength",children:"Movement Strength"}),(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsx)(N.y,{className:"text-tertiary-foreground size-5"})}),(0,i.jsx)(S.ZI,{side:"right",children:"Determines the amount of movement added."})]})]}),(0,i.jsxs)("div",{className:"flex flex-1 items-center gap-4",children:[(0,i.jsxs)(Y.Slider,{w:"100%",size:"xl",min:x.SVD_MOTION_STRENGTH_MIN,max:x.SVD_MOTION_STRENGTH_MAX,step:1,"aria-label":"Movement strength",value:r,onChange:n,children:[(0,i.jsx)(Y.SliderTrack,{children:(0,i.jsx)(Y.SliderFilledTrack,{})}),(0,i.jsx)(Y.SliderThumb,{zIndex:0})]}),(0,i.jsx)(X.NumberInput,{value:r,min:x.SVD_MOTION_STRENGTH_MIN,max:x.SVD_MOTION_STRENGTH_MAX,onChange:e=>n(Number(e)),keepWithinRange:!0,clampValueOnBlur:!0,w:12,children:(0,i.jsx)(X.NumberInputField,{p:0,fontSize:"xs",fontWeight:"600",textAlign:"center",bg:"greyblue",borderColor:"greyBlue",borderRadius:"md"})})]})]})};var et=r(67196),er=r(96576),ei=r(84259),en=r(34694),ea=r(26420),es=r(958),el=r(14331),eo=r(68691),ed=r(75264);let ec=e=>e&&"generation"in e?{width:e.generation.imageWidth,height:e.generation.imageHeight}:e&&"upscale_details"in e?{width:e.upscale_details[0].width||void 0,height:e.upscale_details[0].height||void 0}:{width:void 0,height:void 0},eu=e=>{var t;let{image:r,imageVariation:n,setImageId:l,setIsInitImage:c,setIsVariation:u,setSourceLoaded:m}=e,h=(0,eo.G)(e=>e.user.teams),p=(null!==(t=null==h?void 0:h.length)&&void 0!==t?t:0)>0,{hasPermission:x}=(0,el.S)(),f=!x("uploadedSourceImages","read")&&!p,{userSelectedTeam:v}=(0,k.s)(),{id:j,akUUID:C}=v(),{isOpen:b,onOpen:I,onClose:w}=(0,s.useDisclosure)(),{image:T,selectedImageVariation:_}=(0,er.g)(),M=T||r,[O,E]=(0,a.useState)(ec(M)),A=_||n,D=(null==A?void 0:A.id)||(null==M?void 0:M.id),V=null==A?void 0:A.transformType;if(M&&"generated_image_variation_generics"in M&&!A){let e=null==M?void 0:M.generated_image_variation_generics;A=(null==e?void 0:e[0])?(0,ed.Ws)(e):void 0}let P=(null==A?void 0:A.url)||M&&("url"in M&&M.url||"originalUrl"in M&&M.originalUrl)||void 0,[z,G]=(0,a.useState)(P);(0,a.useEffect)(()=>{m(!!z)},[z,m]);let R=e=>{if(!e.dimensions)return;let{base64ImageUri:t,dimensions:r,initImageId:i,initImageType:n,initVariationId:a,url:s,urlVariation:o}=e;E(r),l(a||i),u(!!a),c(n===es.AbP.Uploaded),G(t||o||s)};(0,a.useEffect)(()=>{D&&l(D),void 0!==V&&u(!!V)},[D,V,l,u]);let B=(0,a.useId)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.HStack,{alignItems:"center",justify:"space-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(y.J,{htmlFor:B,children:["Source Image ",(0,i.jsx)("span",{className:"text-negative-foreground",children:"*"})]}),(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsx)(N.y,{className:"text-tertiary-foreground size-5"})}),(0,i.jsx)(S.ZI,{side:"right",children:"The image to create Video from. ".concat(z?"Continue with the image below or select/upload another.":"Select or upload an image to get started.")})]})]}),O.width&&O.height&&(0,i.jsxs)(d.Text,{fontSize:"sm",lineHeight:"shorter",color:"secondary.inactive",children:[O.width,"x",O.height]})]}),(0,i.jsx)(g.Flex,{id:B,width:"100%",minHeight:{base:40,lg:"2xs"},maxHeight:{base:40,lg:"2xs"},rounded:"lg",position:"relative",background:"background.darkblue",border:"border.greyBlue",justifyContent:"center",alignItems:"center",overflow:"hidden",gap:0,children:z?(0,i.jsx)(L._,{fill:!0,src:z,alt:M&&"prompt"in M&&M.prompt||"",style:{objectFit:"contain"}},z):(0,i.jsxs)(ea.$,{onClick:I,role:"button",children:[(0,i.jsx)(ei.A,{}),"Select an Image"]})}),(0,i.jsx)(o.HStack,{children:(0,i.jsx)(en.H,{onShowMore:I,onSelect:R,uploadsDisabled:f,dropdownProps:{backgroundColor:"background.darkblue",_hover:{background:"background.darkblue"}},menuProps:{bgColor:"background.darkblue"},gridProps:{bgColor:"background.darkblue"}})}),(0,i.jsx)(et.A,{isOpen:b,onSelect:R,onClose:w,hideUploadsTab:f,isImageDimensionsRequired:!0,teamId:j,teamAkUuid:C})]})};var eg=r(84616),em=r(81222);let eh=(e,t)=>t?"Show or hide my generations from the Team Feed":e?"Upgrade plan to enable Private generations":void 0,ep=e=>{let{isInitImage:t,isDisabled:r,shouldShowPremiumBadge:n}=e,{state:a,setIsPrivate:s}=(0,I.l)(),{userSelectedTeam:l}=(0,k.s)(),o=l(),d=o.id?"Hide in Team Feed":"Private Mode",c=o.id?"Show or hide my generations from the Team Feed":"Show or hide your generations from the Community Feed",u=eh(r,o.id);return(0,i.jsx)("div",{className:"w-full",children:t?(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(em.Y,{className:"path-gradient size-4"}),(0,i.jsx)("p",{className:"text-secondary-foreground",children:"Video generations using uploads are private."})]}):(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(y.J,{htmlFor:"motion-generation-modal-private",children:d}),(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsx)(N.y,{className:"text-tertiary-foreground size-5"})}),(0,i.jsx)(S.ZI,{side:"right",children:c})]})]}),(0,i.jsx)("div",{className:"relative shrink-0",children:(0,i.jsxs)(S.m_,{children:[(0,i.jsx)(S.k$,{children:(0,i.jsxs)("div",{className:"relative",children:[n&&(0,i.jsx)(eg.A,{pos:"absolute",top:0,right:0}),(0,i.jsx)(w.d,{id:"motion-generation-modal-private",checked:a.settings.isPrivate,disabled:r,onCheckedChange:s,size:"sm"})]})}),u&&(0,i.jsx)(S.ZI,{children:u})]})})]})})},ex=e=>{let{isInitImage:t,inputIsPrivate:r,canTogglePrivacy:i}=e;return!!r||!!t||!i},ef=e=>{let{isInitImage:t,inputIsPrivate:r}=e,{hasPermission:i}=(0,el.S)();return ex({isInitImage:t,inputIsPrivate:r,canTogglePrivacy:i("generationPrivacy","create")})};var ev=r(7524),ej=r(24664),eC=r.n(ej),eb=r(8536),eI=r(50762),eN=r(40602),ey=r(25634),ew=r(85756),eS=r(47437),ek=r(62618);let eT=async function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,ev.Z)({type:"state",category:"generateAiMotion",message:"Submitting video generation mutation",data:e,level:"debug"});try{var t,r;let i=await ey.Ay.mutate({mutation:es.Ozl,variables:e}),n=null==i?void 0:null===(r=i.data)||void 0===r?void 0:null===(t=r.motionVideoGenerationJob)||void 0===t?void 0:t.generationId;if(!n)throw Error("Error on AI Motion Video Generation. Could not deduplicate request (".concat(n,"). No returned id."));return{newGenerationId:n}}catch(e){return{error:e}}},e_=()=>{let e=(0,eo.j)(),t=(0,eI.N)(),{setPendingAiGenObjects:r}=(0,a.useContext)(eb.V),i=(0,eN.A)(ew.s1.IMAGE),n=(0,eS.QL)(),s=e=>{null==r||r(t=>[e,...t])};return async(r,a)=>{try{var l,o,d,c;let u=a&&"generation"in a&&a.generation||void 0,g=eC()(16).toString("hex"),m={id:g,imageWidth:ew.Jz.WIDTH,imageHeight:ew.Jz.HEIGHT,prompt:r.arg1.prompt,coreModel:null!==(l=null==u?void 0:u.coreModel)&&void 0!==l?l:"SD",status:ew.iD,createdAt:"0",quantity:1,public:!!r.arg1.isPublic,tiling:!1,transparency:null!==(o=null==u?void 0:u.transparency)&&void 0!==o?o:es.P2Y.Disabled,highContrast:!1,promptMagic:!1,generation_controlnets:[],generation_elements:[],photoReal:!1,motion:!0,nsfw:null!==(d=null==u?void 0:u.nsfw)&&void 0!==d&&d,prompt_moderations:null!==(c=null==u?void 0:u.prompt_moderations)&&void 0!==c?c:[],notes:[]};null==s||s(m);let h=r.arg1.teamId?n:i,p={prevTokenBalance:h,afterTokenBalance:h-x.MOTION_VIDEO_GENERATION_TOKEN_COST,costOfGeneration:x.MOTION_VIDEO_GENERATION_TOKEN_COST},{newGenerationId:f,error:v}=await eT(r,p);if(f&&e((0,ek.FS)()),t({error:v,newGenerationId:f,requestId:g}),!f||v)throw v}catch(e){throw e}}};var eM=r(80891),eO=r(33036),eE=r(78373),eA=r(69756);let eD=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={...e,...t};(0,eE.u4)(eA.fq,r),(0,ev.Z)({type:"state",category:"generateAiMotion",message:"Submitting mutation",data:e,level:"debug"});try{var i,n;let t=await ey.Ay.mutate({mutation:es.sCE,variables:e}),r=null==t?void 0:null===(n=t.data)||void 0===n?void 0:null===(i=n.motionSvdGenerationJob)||void 0===i?void 0:i.generationId;if(!r)throw Error("Error on AI Motion SVD Generation. Could not deduplicate request (".concat(r,"). No returned id."));return{newGenerationId:r}}catch(e){return console.error("Error on AI Motion SVD Generation",e),{error:e}}},eV=()=>{let e=(0,eo.j)(),t=(0,eI.N)(),{setPendingAiGenObjects:r}=(0,a.useContext)(eb.V),i=(0,eN.A)(ew.s1.VIDEO),n=(0,eS.QL)(),{isUserFreePlan:s}=(0,eM.usePlan)(),l=e=>{null==r||r(t=>[e,...t])};return async(r,a)=>{try{let s=r.arg1.teamId?n:i;if(!(0,eS.tq)({cost:x.MOTION_SVD_GENERATION_TOKEN_COST,generationType:ew.s1.VIDEO}))throw Error("You do not have enough tokens to perform this action.");let o=a&&"generation"in a&&a.generation||void 0,d=a&&"prompt"in a&&a.prompt||"",c=o?null==o?void 0:o.prompt:d,u=(0,eO.Nu)(c,null==o?void 0:o.coreModel,!!r.arg1.isPublic,!0,null==o?void 0:o.nsfw,null==o?void 0:o.transparency);l(u);let g={prevTokenBalance:s,afterTokenBalance:s-x.MOTION_SVD_GENERATION_TOKEN_COST,costOfGeneration:x.MOTION_SVD_GENERATION_TOKEN_COST},{newGenerationId:m,error:h}=await eD(r,g);if(t({error:h,newGenerationId:m,requestId:u.id}),e((0,ek.FS)()),!m||h)throw h}catch(e){throw console.error("Error on AI Motion Generation",e),e}}},eP=e=>{let{modelId:t,image:r}=e,{isMotionV3Enabled:i}=(0,P.D)(),n=e_(),a=eV(),s=e=>({imageId:e.imageId,isPublic:e.isPublic,...e.teamId&&{teamId:e.teamId}});return t===W.pO.id&&i?{generate:async e=>{try{let t=e.isInitImage?es.AbP.Uploaded:es.AbP.Generated;return await n({arg1:{...s(e),requestType:es.bfO.ImageToVideo,prompt:e.prompt||"",promptEnhance:e.promptEnhance,imageType:t,image:{id:e.imageId,type:t},frameInterpolation:e.frameInterpolation}},r),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"WAN2.1 generation failed"}}},validateInput:{imageId:e=>"string"==typeof e&&e.length>0||"Image is required",prompt:e=>"string"==typeof e&&e.length>0||"Prompt is required for WAN2 model"}}:{generate:async e=>{try{return await a({arg1:{...s(e),isVariation:e.isVariation,isInitImage:e.isInitImage,motionStrength:e.motionStrength}},r),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"SVD generation failed"}}},validateInput:{imageId:e=>"string"==typeof e&&e.length>0||"Image is required"}}},ez=e=>{let{isInitImage:t}=e,{hasPermission:r}=(0,el.S)(),i=r("generationPrivacy","create");return{isMotionGenerationPrivacySwitchDisabled:t||!i}};var eG=r(84536),eR=r(32862),eB=r(32102),eF=r(77062),eL=r(44258),eH=r(91073),eU=r(48392),eZ=r(49993);let eW=(0,v.default)(()=>r.e(4728).then(r.bind(r,34728)).then(e=>e.MotionGenerationConfirmationModal),{loadableGenerated:{webpack:()=>[34728]}}),eq=(0,v.default)(()=>Promise.all([r.e(5263),r.e(3216),r.e(822)]).then(r.bind(r,13216)).then(e=>e.TokensRunningLowUpgradeModal),{loadableGenerated:{webpack:()=>[13216]}}),eJ=e=>{switch(e){case f.plan.BASIC:return ew.Jr.STANDARD;case f.plan.STANDARD:return ew.Jr.PRO;default:return ew.Jr.STANDARD}},e$=e=>{let{image:t,imageVariation:r,imageIsVariation:f,inputIsPrivate:v,onModalClose:j}=e,{state:C}=(0,I.l)(),{settings:N,preferences:y}=C,{userPlan:w,stripePlan:S}=(0,eL.F)(),_=null!=S?S:w,M=(0,eH.A)(),O=(0,n.usePathname)(),{hasPermission:E}=(0,el.S)(),A=E("generationPrivacy","create"),G=E("generationMotion","create"),[F,L]=(0,a.useState)(!1),{isMotionWatermarkOptionEnabled:H,isMotionV3Enabled:U}=(0,P.D)(),{open:Z}=(0,eF.A)(eU.A.FEATURE_INTRO_MOTION_INSTRUCTIONS),{open:q,setData:K}=(0,eF.A)(eU.A.UPDATED_UPGRADE),{isOpen:Y,onOpen:X,onClose:et}=(0,s.useDisclosure)(),{userSelectedTeam:er}=(0,k.s)(),ei=er(),[en,ea]=(0,a.useState)((null==r?void 0:r.id)||(null==t?void 0:t.id)),[es,eo]=(0,a.useState)(!1),[ed,ec]=(0,a.useState)(f),[eg,em]=(0,a.useState)(!1),eh=ef({inputIsPrivate:v,isInitImage:es}),{isMotionGenerationPrivacySwitchDisabled:ex}=ez({isInitImage:es}),ev=!A&&H,ej=null==O?void 0:O.startsWith(V.a.IMAGE_GENERATION),eC=N.model.id===W.pO.id,eb=eC&&U,eI=N.prompt.trim().length>0,eN=()=>{ea((null==r?void 0:r.id)||(null==t?void 0:t.id)),eo(!1),j()},ey=eP({modelId:N.model.id,image:t}),ek=async()=>{try{let e=!!t&&"onGetImageId"in t;if(!en&&!e)return;let r=en||e&&await t.onGetImageId();if(!r)return;let i=eb?x.MOTION_VIDEO_GENERATION_TOKEN_COST:x.MOTION_SVD_GENERATION_TOKEN_COST;if(!(0,eS.tq)({cost:i,generationType:ew.s1.VIDEO})){(0,eE.u4)(eA.JP),K({subtitle:ew.GL.NotEnoughTokens,plan:eJ(_)}),q();return}L(!0);let n=await ey.generate({imageId:r,isPublic:!es&&!N.isPrivate,isInitImage:es,isVariation:!es&&ed,motionStrength:N.motionStrength,prompt:N.prompt,promptEnhance:N.promptEnhance,frameInterpolation:N.frameInterpolation,...ei.akUUID&&{teamId:ei.akUUID}});if(L(!1),!n.success)return;!ej&&y.allowConfirmationModal?X():j()}catch(e){M({title:"Error generating video",description:e instanceof Error?e.message:"An unknown error occurred",variant:"solid",type:eH.k.error}),L(!1),j()}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.ModalHeader,{borderBottomColor:"border.grey",borderBottomWidth:1,px:{base:4,md:7},children:(0,i.jsxs)(o.HStack,{alignItems:"center",gap:2.5,children:[(0,i.jsx)(eG.A,{boxSize:8}),(0,i.jsx)(d.Text,{size:"2xl",children:"Video"}),(0,i.jsx)(c.IconButton,{icon:(0,i.jsx)(eR.A,{}),minW:9,minH:9,h:9,bg:"black",borderWidth:"px",borderRadius:"full",borderColor:"border.grey","aria-label":"Motion instructions",onClick:()=>Z({force:!0})})]})}),(0,i.jsx)(u.ModalBody,{bg:eZ.C3.DARK_BLUE_BG,pt:3,pb:{base:3,lg:4},px:4,children:(0,i.jsx)(g.Flex,{direction:"column",gap:2,children:U?(0,i.jsxs)(m.Stack,{gap:{base:2,lg:2.5},flexBasis:{md:"50%"},children:[eC&&(0,i.jsx)(Q,{}),(0,i.jsx)(eu,{image:t,imageVariation:r,setImageId:ea,setIsInitImage:eo,setIsVariation:ec,setSourceLoaded:em}),(0,i.jsx)(J,{}),eC?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($,{}),(0,i.jsx)(B,{})]}):(0,i.jsx)(ee,{}),(0,i.jsx)(T,{isUploadedImage:es,isDisabled:ex}),ev&&(0,i.jsx)(R,{})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Stack,{flexBasis:{md:"50%"},children:(0,i.jsx)(eu,{image:t,imageVariation:r,setImageId:ea,setIsInitImage:eo,setIsVariation:ec,setSourceLoaded:em})}),(0,i.jsxs)(m.Stack,{gap:{base:2,lg:2.5},flexBasis:{md:"50%"},children:[(0,i.jsxs)(m.Stack,{p:3,gap:4,borderRadius:"md",bg:"gradient.background",w:"100%",children:[(0,i.jsx)(ee,{}),(0,i.jsx)(ep,{isInitImage:es,isDisabled:eh,shouldShowPremiumBadge:ev})]}),ev&&(0,i.jsx)(R,{})]})]})})}),(0,i.jsxs)(h.ModalFooter,{borderTopColor:"border.grey",borderTopWidth:1,flexDirection:"column",children:[!G&&(0,i.jsx)(b,{}),(0,i.jsxs)(g.Flex,{justify:"space-between",gap:4,width:"100%",children:[(0,i.jsx)(D._,{onClick:eN,dataTrackingId:z.i4r,width:"full",height:12,borderWidth:"px",rounded:"lg",borderColor:"border.grey",fontSize:{base:"sm",md:"md"},fontWeight:"medium",backgroundColor:"transparent",children:"Close"}),(0,i.jsxs)(p.Button,{onClick:ek,variant:"gradient",width:"full",height:12,rounded:"lg",fontSize:"md",fontWeight:"medium",color:"white",bg:"gradient.main",isLoading:F,isDisabled:!(G&&(eb?eg&&eI:eg)),children:[(0,i.jsx)(d.Text,{marginRight:2,fontSize:{base:"sm",md:"md"},fontWeight:"medium",children:"Generate"}),(0,i.jsx)(eB.A,{width:4,height:4,fill:"white"}),(0,i.jsx)(d.Text,{fontSize:"xs",fontWeight:"normal",children:eb?x.MOTION_VIDEO_GENERATION_TOKEN_COST:x.MOTION_SVD_GENERATION_TOKEN_COST})]})]})]}),!ej&&(0,i.jsx)(a.Suspense,{children:(0,i.jsx)(eW,{onParentModalClose:eN,isOpen:Y,onClose:et})}),(0,i.jsx)(a.Suspense,{children:(0,i.jsx)(eq,{})})]})};var eK=r(84477),eQ=r(45046);let eY=e=>{let{image:t,inputIsPrivate:r,imageIsVariation:s,isOpen:l,onClose:o,imageVariation:d}=e,c=(0,n.usePathname)()||"",{currentPlan:u}=(0,eL.F)();return(0,a.useEffect)(()=>{l&&(0,eE.u4)(eA.jn,{path:c,plan:u,platform:eQ.i.WEB})},[l,c,u]),(0,i.jsx)(eK.a,{isCentered:!0,isOpen:l,ModalCloseButtonProps:{"data-tracking-id":z.i4r,_hover:{bg:"balticSea"},bg:"rgba(0, 0, 0, 0.58)",right:{base:4,md:7},rounded:"full",top:"1.125rem"},onClose:o,size:{base:"full",md:"sm"},variant:"gradientDialogStyle",children:(0,i.jsx)(I.z,{children:(0,i.jsx)(e$,{onModalClose:o,image:t,imageIsVariation:s,imageVariation:d,inputIsPrivate:r})})})}},84259:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(95155),n=r(3740),a=r(27593);let s=e=>(0,i.jsx)(n.Icon,{width:"calc(".concat(a.fb," * 1)"),height:"calc(".concat(a.fb," * 1)"),viewBox:"0 0 16 16",color:"white",fill:"none",...e,children:(0,i.jsx)("path",{d:"M14.5 7.33333V11.3333C14.5 12.9453 13.612 13.8333 12 13.8333H4C2.388 13.8333 1.5 12.9453 1.5 11.3333V4.66667C1.5 3.05467 2.388 2.16667 4 2.16667H8.66667C8.94267 2.16667 9.16667 2.39067 9.16667 2.66667C9.16667 2.94267 8.94267 3.16667 8.66667 3.16667H4C2.94867 3.16667 2.5 3.61533 2.5 4.66667V10.8333L4.19336 9.13997C4.45336 8.87997 4.87997 8.87997 5.13997 9.13997L5.76668 9.7666C5.89335 9.89327 6.10665 9.89327 6.23332 9.7666L9.52669 6.47331C9.78669 6.21331 10.2133 6.21331 10.4733 6.47331L13.5 9.5V7.33333C13.5 7.05733 13.724 6.83333 14 6.83333C14.276 6.83333 14.5 7.05733 14.5 7.33333ZM5.32869 5.16667C4.86936 5.16667 4.5 5.54 4.5 6C4.5 6.46 4.87597 6.83333 5.33464 6.83333C5.79397 6.83333 6.16667 6.46 6.16667 6C6.16667 5.54 5.79464 5.16667 5.33464 5.16667H5.32869ZM11.3333 3.83333H12.1667V4.66667C12.1667 4.94267 12.3907 5.16667 12.6667 5.16667C12.9427 5.16667 13.1667 4.94267 13.1667 4.66667V3.83333H14C14.276 3.83333 14.5 3.60933 14.5 3.33333C14.5 3.05733 14.276 2.83333 14 2.83333H13.1667V2C13.1667 1.724 12.9427 1.5 12.6667 1.5C12.3907 1.5 12.1667 1.724 12.1667 2V2.83333H11.3333C11.0573 2.83333 10.8333 3.05733 10.8333 3.33333C10.8333 3.60933 11.0573 3.83333 11.3333 3.83333Z",fill:"currentColor"})})},84616:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(95155),n=r(58670),a=r(90339);let s=e=>{let{showIcon:t,...r}=e;return(0,i.jsxs)(n.Text,{background:"var(--gradients-purple-gradient, linear-gradient(81deg, #FA5560 -23.47%, #B14BF4 45.52%, #4D91FF 114.8%))",borderRadius:"md",py:1,px:1.5,fontSize:"xs",fontWeight:600,color:"white",lineHeight:"0.625rem",...t&&{display:"flex",alignItems:"center",gap:.5},...r,children:[t&&(0,i.jsx)(a.A,{}),"Premium"]})}},98854:(e,t,r)=>{r.d(t,{y:()=>n});var i=r(95155);let n=(0,r(12115).forwardRef)((e,t)=>(0,i.jsx)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",...e,children:(0,i.jsx)("path",{d:"M12 22.25C6.48558 22.25 2 17.7644 2 12.25C2 6.73558 6.48558 2.25 12 2.25C17.5144 2.25 22 6.73558 22 12.25C22 17.7644 17.5144 22.25 12 22.25ZM12 3.64535C7.25488 3.64535 3.39535 7.50488 3.39535 12.25C3.39535 16.9951 7.25488 20.8547 12 20.8547C16.7451 20.8547 20.6047 16.9951 20.6047 12.25C20.6047 7.50488 16.7451 3.64535 12 3.64535ZM12.6613 13.5189C12.6837 13.4519 12.8103 13.198 13.4912 12.7421C14.5889 12.0063 15.08 10.9551 14.8763 9.78111C14.6698 8.59507 13.7032 7.62119 12.5255 7.41374C11.6651 7.26119 10.7935 7.49273 10.1311 8.04715C9.4623 8.60808 9.07917 9.43129 9.07917 10.3066C9.07917 10.6918 9.39173 11.0043 9.77684 11.0043C10.162 11.0043 10.4745 10.6918 10.4745 10.3066C10.4745 9.84525 10.6764 9.41103 11.028 9.11614C11.3777 8.82312 11.8241 8.70312 12.2827 8.78684C12.8837 8.89288 13.3963 9.41098 13.5023 10.0193C13.5423 10.2491 13.6642 10.9467 12.7145 11.5821C11.9452 12.0984 11.5079 12.5718 11.3396 13.0742C11.2168 13.4398 11.4139 13.8351 11.7795 13.9578C11.853 13.983 11.9274 13.9942 12.0009 13.9942C12.2911 13.9942 12.5627 13.81 12.6613 13.5189ZM12.9489 16.436C12.9489 15.9226 12.533 15.5058 12.0186 15.5058H12.0093C11.4958 15.5058 11.0836 15.9226 11.0836 16.436C11.0836 16.9495 11.5051 17.3663 12.0186 17.3663C12.5321 17.3663 12.9489 16.9495 12.9489 16.436Z",fill:"currentColor"})}));n.displayName="QuestionCircleOutlineIcon"}}]);